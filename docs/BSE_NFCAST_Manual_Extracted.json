{
  "full_content": [
    {
      "page": 1,
      "text": "Direct NFCAST V 5.0\nBSE Direct NFCAST\nManual\nVersion 5.0\nDate: May 28, 2025"
    },
    {
      "page": 2,
      "text": "Direct NFCAST V 5.0\nContents\n1 Introduction .......................................................................................................................................... 4\n1.1 Purpose of this document ............................................................................................................. 4\n1.2 Main audience .............................................................................................................................. 4\n1.3 Data feeds ..................................................................................................................................... 4\n2 Overview of the Direct NFCAST Interface ............................................................................................. 7\n2.1 Infrastructure requirements ......................................................................................................... 7\n2.2 Overview of the various message types ....................................................................................... 7\n2.3 Service Messages .......................................................................................................................... 7\n2.4 Data Messages .............................................................................................................................. 7\n2.5 What is not included in these interfaces. ..................................................................................... 8\n2.6 Freedom of choice ........................................................................................................................ 8\n2.7 Structure of Messages .................................................................................................................. 8\n2.8 Compression ................................................................................................................................. 8\n2.9 Recovery ........................................................................................................................................ 9\n3 Trading states for a sample business day ........................................................................................... 10\n3.1 Product type: Pre-open ............................................................................................................... 10\n3.2 Product type: Special Pre-open (SPOS) ....................................................................................... 11\n3.3 Product type: Periodic Call Auction (PCAS) ................................................................................. 11\n3.4 Product type: Continuous ........................................................................................................... 12\n3.5 Market Halt ................................................................................................................................. 13\n3.6 Block Deal Session ....................................................................................................................... 14\nFine tuning client applications .................................................................................................................... 15\n3.7 Buffer size ................................................................................................................................... 15\n3.8 Packet and message processing .................................................................................................. 15\n4 Detailed data feed description and layout ......................................................................................... 16\n4.1 Service messages ........................................................................................................................ 16\n4.2 Time Broadcast Message [2001] ................................................................................................. 16\n4.3 Auction Keep Alive Message [2030]............................................................................................ 17\n4.4 Market data messages ................................................................................................................ 17\n4.5 Product State Change Message [2002] ....................................................................................... 17\n4.6 Shortage Auction Session Change Message [2003] .................................................................... 19\n4.7 News Headline [2004] ................................................................................................................. 20\n2\nBSE - CONFIDENTIAL"
    },
    {
      "page": 3,
      "text": "Direct NFCAST V 5.0\n4.8 Market Picture Broadcast [2020 and 2021] ................................................................................ 21\n4.9 Auction Market Picture Broadcast [ 2017] ................................................................................. 28\n4.10 Odd-lot Market Picture Messages [2027] ................................................................................... 30\n4.11 Debt Market Picture [2033] ........................................................................................................ 32\n4.12 Index Change Message [2011 and 2012] .................................................................................... 37\n4.13 Limit Price Protection Range [2034] ........................................................................................... 39\n4.14 Call Auction cancelled quantity message [2035] ............................................................................ 41\n4.15 Close Price [2014] ....................................................................................................................... 42\n4.16 Open Interest Message [2015] ................................................................................................... 43\n4.17 VaR Percentage [2016]................................................................................................................ 45\n4.18 RBI Reference Rate [2022] .......................................................................................................... 46\n4.19 Implied Volatility [2028] .............................................................................................................. 47\n5 Decompression of Market Depth Message ........................................................................................ 48\n5.1 Compression Principle ................................................................................................................ 49\n5.2 Decompression Mechanism ........................................................................................................ 49\n5.3 Decompression Mechanism for Best 5 substructure .................................................................. 49\n5.4 Reading Sequence ....................................................................................................................... 49\n5.5 Decompression logic ................................................................................................................... 50\n5.6 Handling condition when no orders present at a price point ..................................................... 50\n5.7 Repetition of Instruments ........................................................................................................... 50\n5.8 Summary of decompression mechanism .................................................................................... 51\n5.9 Example of Decompression Logic ............................................................................................... 51\n5.9.1 Example for General Decompression Mechanism ...................................................................... 51\n5.9.2 Example for Best 5 structure decompression mechanism. ........................................................ 51\n5.9.3 Example for full market picture packet reading ......................................................................... 53\n6 Appendix ............................................................................................................................................. 55\n6.1 Index Code Mapping Table ......................................................................................................... 55\n6.2 Product (Market Segment) Identifier in Master Files ................................................................. 55\n6.3 Price Precision Table ................................................................................................................... 55\n7 Change log. .......................................................................................................................................... 55\n7.1 Changes compared to NFCAST with IML ..................................................................................... 55\n7.2 Changes compared to version 1 ................................................................................................. 57\n7.3 Changes compared to version 2 ................................................................................................. 58\n7.4 Changes compared to version 3 ................................................................................................. 58\n7.5 Changes compared to version 4 ................................................................................................. 59\n3\nBSE - CONFIDENTIAL"
    },
    {
      "page": 4,
      "text": "Direct NFCAST V 5.0\n1 Introduction\nBSE offers public market data as part of the BSE Exchange’s new trading architecture. The interfaces\ndistribute information via UDP multicast. The Direct NFCAST Interface (netted) interface is designed for\nparticipants who do not need to see every order book update, this has the advantage of keeping the\ninfrastructure costs low. The updates of the order book are sent at regular intervals; they are not\nprovided for every order book change and are sent significantly less frequently than the other feeds.\nThis interface aggregates the order book changes over a specified time interval. Currently, BSE plans to\nprovide market data with a netting interval of 0.80 sec and depth of 5. Only statistical information is\nprovided for on-exchange trades as well as the price and quantity of the last on-exchange trade in the\nnetting interval.\nThe Direct NFCAST provides the following information to the participant:\n✓ Price level aggregated order book depth and on-exchange trade statistics.\n✓ Product state change message.\n✓ Index message.\n✓ Miscellaneous messages.\n1.1 Purpose of this document\nThe purpose of this document is to provide guidance for programmers during development of\napplications that read the BSE Market Data Interface.\nIt covers a complete reference for market data interface, describes the general business behaviour and\nprovides concepts for the implementation.\nThe most recent version is available at: www.bseindia.com/nta.aspx\n1.2 Main audience\nThe target audience of this interface specification is experienced software developers support staff that\nmay be involved in development/support activities for the BSE Market Data Interfaces.\nPrior knowledge of developing for a capital market is beneficial but not a prerequisite. Knowledge in a\nprogramming language is expected.\n1.3 Data feeds\nBSE supports multiple market data interfaces with each having its unique characteristics. Though this\ndocument describes the Direct NFCAST interface in detail, a brief overview of other market data streams\nis provided here for better understanding the difference between various streams.\n4\nBSE - CONFIDENTIAL"
    },
    {
      "page": 5,
      "text": "Direct NFCAST V 5.0\nArea EOBI EMDI MDI Direct NFCAST\nStream The Enhanced Order The Enhanced Market Data The Market Data The Direct NFCAST\nDescription Book Interface (un- Interface (un-netted) Interface (netted) has a Interface (netted) has a\nnetted) disseminates disseminates every order lower bandwidth lower bandwidth\nevery order book book change up to the requirement compared to requirement compared to\nchange for the entire configured depth and all the un-netted version. the un-netted version.\nbook and all on- on-exchange trades\nexchange trades without netting.\nwithout netting.\nThis interface is This interface is designed This interface is designed This interface is designed\ndesigned for for participants that rely on for participants who do for participants who do not\nparticipants that rely on low-latency order book not need to see every need to see every order\nlow-latency order book updates and data order book update, this book update, this has the\nupdates and data completeness. has the advantage of advantage of keeping the\ncompleteness. keeping the infrastructure costs low.\ninfrastructure costs low.\nThe un-netted market The un-netted market data Snapshot and Only Snapshot updates are\ndata is partitioned over is partitioned over several incremental updates are sent in this stream.\nseveral channels; each channels; each channel sent via the same channel The interface aggregates\nchannel provides provides information about This interface aggregates the order book changes\ninformation about a a group of similar products. the order book changes over a specified interval of\ngroup of similar As the market becomes over a specified time time.\nproducts. As the market busier, the number of interval\nbecomes busier, the messages (and therefore\nnumber of messages bandwidth usage)\n(and therefore increases.\nbandwidth usage)\nincreases.\n5\nBSE - CONFIDENTIAL"
    },
    {
      "page": 6,
      "text": "Direct NFCAST V 5.0\nIn- Incremental and Incremental and snapshots Incremental and Only Snapshot are\nband/Out-of- snapshots are delivered are delivered via different snapshots are delivered delivered on the channel.\nband via different channels, channels, i.e. out-of-band on the same channel, i.e. Each snapshot will be\ndelivery i.e. out-of-band delivery delivery in-band delivery. complete in nature.\nLastMsgSeqNumProcess LastMsgSeqNumProcessed Snapshots might contain Snapshot will always have\ned. In the snapshot feed In the snapshot feed new information. some new information and\nprovides a link between provides a link between A flag (RefreshIndicator) must be applied on order\nincremental and incremental and snapshot within the snapshot book.\nsnapshot feed, as it feed, as it carries the indicates whether it has\ncarries the sequence sequence number of the to be applied or not.\nnumber of the last last message sent on the LastMsgSeqNumProcesse\nmessage sent on the incremental feed. d is not used.\nincremental feed. Snapshots are needed only\nSnapshots are needed for start-up/recovery.\nonly for start-\nup/recovery.\nSequence Messages on the Messages on the market Messages on the There is no product or\nnumbers on market data data incremental feed combined market data stream specific sequence\nmessage incremental feed have have their own sequence incremental + snapshot number. Every snapshot\nlevel their own sequence number range per product; feed have one sequence will have complete\nnumber range per MsgSeqNum’s exist on the number range per information.\nproduct; MsgSeqNum’s depth incremental feed product.\nexist on the depth only.\nincremental feed only.\nTrade Trade Volume Reporting Trade Volume Reporting Trade Volume Reporting Trade Volume Reporting\nVolume is provided. is provided. is provided. Statistical is provided. Statistical\nReporting Each on-exchange trade Each on-exchange trade is information (daily information (daily high/low\nis reported individually. reported individually. high/low price and total price and total traded\ntraded quantity) and last quantity) and last trade\ntrade information is information is provided.\nprovided.\n6\nBSE - CONFIDENTIAL"
    },
    {
      "page": 7,
      "text": "Direct NFCAST V 5.0\n2 Overview of the Direct NFCAST Interface\nThis chapter describes the Direct NFCAST Interface in brief. It provides the overview of the peculiar\ncharacteristics of this market data stream.\n2.1 Infrastructure requirements\nThe BSE Direct NFCAST market data interfaces disseminate market data over the BSE multicast network.\nA router which is capable of handling IP multicast is required for accessing this inter-face. The multicast\nmanagement protocol is IGMPv2. When utilizing IGMPv3, the IGMPv2 compatibility mode must be\nenabled.\n2.2 Overview of the various message types\nThere are many functional messages and technical messages delivered in this interface. The various\nmessage types can be divided into \"Service Messages\" and \"Data Messages\".\nThe Service Messages are technical in nature and are not associated with any product or instrument.\nThe Data Messages ae functional in nature and are always related to products or instrument.\n2.3 Service Messages\n✓ Time broadcast message is sent out periodically by the BSE system on multicast address. The\ncurrent periodicity is one minute.\n✓ Auction keep alive message is network related message. It is used to keep spanning tree\nalive for the auction related broadcast messages.\n2.4 Data Messages\n✓ Market picture message is used to send a snapshot of 5 price levels of the order book and\nstatistical information about on-exchange trades.\n✓ Product state change message (Session Broadcast) is used to publish the state of the BSE\nproducts.\n✓ Index change message is used to publish the indices current values and day’s high, low open\nand close values. The message is sent periodically at a defined interval.\n✓ Auction market picture message is used to send snapshot of 5 price level of auction order\nbook. The auction here refers to defaulter auction or shortage auction and thus the order\nbook contains only the sell price levels.\n✓ Close price message is used to send the close price for all instruments in the closing session\nand at start of the day.\n✓ Open Interest message is used to send the open interest in the market for derivatives\ncontracts.\n✓ RBI Reference Rate is used to send the Reference rate for USD published by RBI.\n7\nBSE - CONFIDENTIAL"
    },
    {
      "page": 8,
      "text": "Direct NFCAST V 5.0\n✓ VaR Percentage Message is used to send the approximate applicable margin percentage for\nthe trade.\nA detailed description of the message types listed above is given in section Detailed data feed\ndescription and layout\n2.5 What is not included in these interfaces.\nThe following information is not provided via the new interface:\n✓ In case of derivatives contracts, the prices for underlying are not provided. These prices will\nbe available in multicast form in the multicast stream of the respective segment.\n✓ Implied prices are only sent for Best Market, they are not sent for the order book depth\nexcept for top of book.\n2.6 Freedom of choice\nBSE does not need to provide any software for accessing the services offered. The BSE market data\ninterfaces can be accessed using any platform capable of receiving multicast data feeds. Participants can\nuse any operating system, compiler version or programming language to develop or use specific third-\nparty applications that are tailored to their requirements.\n2.7 Structure of Messages\nThe market data interfaces disseminate data in UDP datagram in network byte order also known as big\nendian byte order. A UDP datagram has the following structure:\nMESSAGE TYPE MESSAGE\nFigure 1: Structure of a UDP datagram\n✓ The UDP datagram starts with message type followed by the actual message (Message).\n✓ One packet will always have one message only\nEach message shown in the picture above has the following sub structure:\n✓ Message Type (Template ID) – a unique identifier for each message type which is sent by BSE\n✓ Data Part (Message) – the actual message as per the structure defined in API.\nDue to the unreliable nature of UDP, every UDP datagram is self-contained; there is no dependency\nacross datagram.\n2.8 Compression\nBSE adopts native compression to reduce the packet size over the wire. The compression is applied on\nspecific messages only. The entire message is not compressed. The compression is applied on frequently\n8\nBSE - CONFIDENTIAL"
    },
    {
      "page": 9,
      "text": "Direct NFCAST V 5.0\nchanging price and quantity field. The client application must apply the decompression logic on specific\nmessages only while other messages can be read directly as per the structure defined in API.\n2.9 Recovery\nDue to the unreliable nature of UDP multicast it is possible that some packets may either be delayed or\nmay be missing. Furthermore, the UDP packets may be duplicated at the network level. There is no\nrecovery mechanism defined for this channel. Each packet delivered on this stream has complete\ninformation and there is no dependency on earlier or subsequent packet. Every packet received should\nbe applied by member application and thus receiving applications need not handle the recovery.\n9\nBSE - CONFIDENTIAL"
    },
    {
      "page": 10,
      "text": "Direct NFCAST V 5.0\n3 Trading states for a sample business day\nAll instruments traded on BSE is classified into various groups called as products. Each product\nincorporates a set of instruments. The product is also referred as MarketSegment ID. State maintenance\nor session change in BSE happens at a product level. Each product can transition from one state to\nanother independent of other products. All instruments belonging to a product will follow the same\nstate transition. The product state change message (Session change) is also disseminated at product\nlevel. The message Product state change will convey the state change and the product ID also for which\nthe state change or session change is applicable. The master files of the respective segment provide the\nproduct identifier against each instrument. Refer section Product Identifiers in master files to identify\nthe field and their positions in various master files.\nThis section describes a typical trading day with the new BSE Trading system. Different product may\nfollow different schedule during the day. For example, some products will be eligible for call auction\nsession followed by continuous trading while some may be eligible for call auction only whereas some\nmay be eligible for continuous trading only. Based on their eligibility the products are classified into\ndifferent product types and each type will have different schedule. The different product types and their\ndifferent schedule is presented below along with the possible values in each field of the message for\neach state. The client application can expect the Product state change message (2002) messages in the\nsame sequence for each product belonging to a product type along with the same values as shown\nbelow.\n3.1 Product type: Pre-open\nAll products falling in this category will have a call auction session at the start of market and it will be\nfollowed by continuous session. A Product state change message (2002) will be sent for each transition\nand for each product. The possible combination and sequence of market type and current session\nnumber received by TPS would be as follows.\nTime Market Session Start and Description\nType Number End Flag\n7:50 AM 0 0 N/A Logon\n9:00 AM 0 1 N/A Pre-open Order Entry Start\n9:07 AM – 0 0 N/A Pre-open Order Entry End (Random\n9:08 AM end during the minute)\n9:08 AM – 0 2 N/A Pre-open Matching End (Random)\n9:12 AM\n9:15 AM 0 3 N/A Continuous Session\n3:30 PM 0 4 N/A Closing\n3:40 PM 0 5 N/A Post-Closing session Start\n10\nBSE - CONFIDENTIAL"
    },
    {
      "page": 11,
      "text": "Direct NFCAST V 5.0\n4:00 PM 0 7 N/A Member Query Session Start\n6:03 PM 0 6 N/A End of day\n3.2 Product type: Special Pre-open (SPOS)\nAll products having an IPO or relisting instrument will fall in this category. The products will have a call\nauction session at the start of market, and it will be followed by continuous session. A Product state\nchange message (2002) will be sent in for each state transition. The possible combination and sequence\nof market type and current session number received by TPS would be as follows.\nTime Market Session Start and Description\nType Number End Flag\n7:50 AM 0 0 N/A Logon\n9:00 AM 0 1 N/A SPOS Order Entry Start\n9:44 AM – 0 10 N/A SPOS Order Entry End (Random)\n9:45 AM\n9:45 AM – 0 12 N/A SPOS Matching End (Random)\n9:55 AM\n9:15 AM 0 13 N/A Continuous Session\n3:30 PM 0 4 N/A Closing\n3:40 PM 0 5 N/A Post-Closing session Start\n4:00 PM 0 7 N/A Member Query Session Start\n6:03 PM 0 6 N/A End of day\n3.3 Product type: Periodic Call Auction (PCAS)\nAll products that are classified as illiquid instruments fall under this category. The products operate in\ncall auction session only throughout the day. Call auction sessions is scheduled every hour. A Product\nstate change message (2002) will be sent for each product. The possible combination and sequence of\nmarket type and current session number received by TPS would be as follows.\nTime Market Session Start and Description\nType Number End Flag\n11\nBSE - CONFIDENTIAL"
    },
    {
      "page": 12,
      "text": "Direct NFCAST V 5.0\n7:50 AM 0 0 N/A Logon\n9:30 AM 20 1 S PCAS Order Entry Start\n10:14 AM – 20 1 E PCAS Order Entry End (Random)\n10:15AM\n10:15 AM – 20 2 E PCAS Matching End (Random)\n10:30 AM\n10:30 AM 20 1 S PCAS Order Entry Start\n11:14 AM – 20 1 E PCAS Order Entry End (Random)\n11:15AM\n11:15 AM – 20 2 E PCAS Matching End (Random)\n11:30 AM\n3:30 PM 0 4 N/A Closing\n4:00 PM 0 7 N/A Member Query Session Start\n6:03 PM 0 6 N/A End of day\n* The same schedule as published above for 2 sessions is applicable other PCAS sessions also which will\nbe conducted every hour during the day till 3:30 PM.\n3.4 Product type: Continuous\nAll products falling in this category will have only continuous session. A Product state change (2002) will\nbe sent for each transition and for each product. The possible combination and sequence of market type\nand current session number received by TPS would be as follows.\nTime Market Session Start and Description\nType Number End Flag\n7:50 AM 0 0 N/A Logon\n9:15 AM 0 3 N/A Continuous Session Start\n3:30 PM 0 4 N/A Closing\n3:40 PM 0 5 N/A Post-Closing Session Start\n12\nBSE - CONFIDENTIAL"
    },
    {
      "page": 13,
      "text": "Direct NFCAST V 5.0\n4:00 PM 0 7 N/A Member Query Session Start\n6:03 PM 0 6 N/A End of day\n* The above schedule is applicable for currency derivatives and commodities derivatives segment also.\nHowever, the time for each state defined above will be different. For details on time for those market,\nkindly refer the BSEINDIA website.\n3.5 Market Halt\nIn case the trading is halted due to breach of circuit limits then the market halts and resumes differently\nfrom a normal trading day. The below tables represent session values expected only in case of Market\nHalt\nTime Market Session Start and Description\nType Number End Flag\nIn case when Normal market starts\n7:50 AM 0 0 N/A Logon\n9:00 AM 0 1 N/A Pre-open Order Entry Start\n9:07 AM – 0 0 N/A Pre-open Order Entry End (Random)\n9:08 AM\n9:08 AM – 0 2 N/A Pre-open Matching End (Random)\n9:12 AM\nIn case Market Halt is triggered at this stage i.e. during Pre-open matching then product state\nchange message with session value as 0 will be sent to indicate market halt. After the halt period,\nmarket will resume with Call auction and sequence of events will be same as above.\n9:15 AM 0 3 N/A Continuous Session\nIn case Market Halt is triggered at this stage, End of Continuous session will be informed, by a Log-\non session. Below mentioned session information will be disseminated, when scheduling of\nNormal Call auction and SPOS is done in parallel. This is the case between 9.15 a.m. to 10.00 a.m.\n0 0 N/A End of Continuous Session\n0 1 N/A Normal Call auction, SPOS Order Entry\nSession start\n0 0 N/A Random End of Normal Call auction\nOrder Entry Session\n0 10 N/A Random End of SPOS\nOrder Entry Session [Freeze Session]\n13\nBSE - CONFIDENTIAL"
    },
    {
      "page": 14,
      "text": "Direct NFCAST V 5.0\n0 2 N/A End of Matching Session of\nNormal Call auction\n0 12 N/A End of Matching Session of\nSPOS\n0 3 N/A Start of Continuous Session\n0 13 N/A Continuous Session for SPOS\nThis is a second scenario, when Market Halt is triggered post 10.00 a.m in which case no SPOS\nsession will be scheduled separately. At this stage, End of Continuous session will be informed by\na Log-on session. Below mentioned session information will be disseminated, when scheduling of\nNormal Call auction prior to Continuous session\n0 0 N/A End of Continuous Session\n0 1 N/A Normal Call auction Order Entry Session\nstart\n0 0 N/A Random End of Normal Call auction\nOrder Entry Session [Freeze Session]\n0 2 N/A End of Matching Session of\nNormal Call auction\n0 3 N/A Start of Continuous Session\n3.6 Block Deal Session\nIn the equity segment, irrespective of the product type, the block deal session is conducted twice a day\nfor all the instruments. The first block deal session starts before the start of market at 8:45 AM and ends\nat 9:00 AM. The second block deal session starts at 2:05 PM and ends at 2:15 PM. No product state\nchange message is sent for block deal session any time during the day.\n14\nBSE - CONFIDENTIAL"
    },
    {
      "page": 15,
      "text": "Direct NFCAST V 5.0\nFine tuning client applications\nThis chapter covers some aspects of application tuning which should be considered during the design\nprocess of receiving applications.\n3.7 Buffer size\nEach UDP packet sent from exchange will not exceed the network MTU which is currently set to 1500\nbytes. The size of all the messages is kept within the MTU limits. Also, the messages which are\ncompressed will also have packet size lesser then MTU however the packets on decompression may be\nhigher than the MTU also. The application needs to handle this.\n3.8 Packet and message processing\nIt is important that messages are removed from the network in a timely fashion to prevent them from\nbeing dropped by the client machine due to \"receive buffer\" overflow in the IP stack. It is recommended\nthat the client application should always ask for 2000 bytes of data in a single read call from the socket.\nThe read call will always give single packet and the first 4 bytes will always convey the message type.\nThe client application can decide on processing or dropping of packet based on the message type\nreceived in the first 4 bytes of the message.\n15\nBSE - CONFIDENTIAL"
    },
    {
      "page": 16,
      "text": "Direct NFCAST V 5.0\n4 Detailed data feed description and layout\nThis chapter provides message layouts and field information. It is structured by service messages and\ndata messages. The messages generally contain service messages or market data messages.\n4.1 Service messages\nService messages do not carry any market information. These messages are sent for synchronization or\nto indicate the status of the service. These messages are sent throughout the day independent of the\ntrading hours and trading states.\n4.2 Time Broadcast Message [2001]\nTime broadcast message is sent by Exchange at an interval of 1 minute. Multiple packets for the same\ntime are sent to compensate for the loss of packets. The message is sent throughout the day with the\nstart of the Trading Engine. The synchronization of clock with this time will not be accurate due to the\ndistance and network involved between client application and exchange.\nApplicable Segment : All Compression: No\nField Name Type Description Values, meanings,\nValidations\nMessage Long Type of message\nType Value Description\n2001 Time Message\nReserved Long For Internal Use.\nField 1\nReserved Long For Internal Use.\nField 2\nReserved unsigned For Internal Use.\nField 3 short\nHour Short The hour part of time when the\nmessage was sent from the\nexchange\nMinute Short The minute part of time when\nthe message was sent from the\nexchange\nSecond Short The second part of time when\nthe message was sent from the\nexchange\nMillisecond Short The millisecond part of time\n16\nBSE - CONFIDENTIAL"
    },
    {
      "page": 17,
      "text": "Direct NFCAST V 5.0\nwhen the message was sent\nfrom the exchange\nReserved Short For Internal Use.\nField 4\nReserved Short For Internal Use.\nField 5\nReserved Short For Internal Use.\nField 6\nReserved Char For Internal Use.\nField 7\nReserved Char For Internal Use.\nField 8\nReserved Char [2] For Internal Use.\nField 9\n4.3 Auction Keep Alive Message [2030]\nAuction keep alive message is network related message. It is used to keep spanning tree alive for auction\nrelated broadcast messages. The message is sent by Exchange periodically. The message is of no\nfunctional relevance to the client application and should be dropped.\nApplicable Segment: Equity Compression: No\nField Name Type Description Values, meanings,\nValidations\nMessage Long Type of message\nType Value Description\n2030 Keep Alive\n4.4 Market data messages\nThe market data messages are generally instrument specific messages and market level messages.\nInstrument specific messages include the market picture message, close price message, VaR message\netc. while the market level messages include the index message, Product state change message etc.\n4.5 Product State Change Message [2002]\nThis message is sent by the exchange whenever there is a transition of state for a product. The transition\nstate is depicted by a unique session number. The message is sent for each product which is identified\nby product ID field.\n17\nBSE - CONFIDENTIAL"
    },
    {
      "page": 18,
      "text": "Direct NFCAST V 5.0\nApplicable Segment: All Compression: No\nField Name Type Description Values, meanings,\nValidations\nMessage Type Long Type of message\nValue Description\n2002 Session Change\nReserved Field 1 Long For Internal Use.\nReserved Field 2 Long For Internal Use.\nReserved Field 3 unsigned For Internal Use.\nshort\nHour Short The hour part of time when the\nmessage was sent from the\nexchange\nMinute Short The minute part of time when\nthe message was sent from the\nexchange\nSecond Short The second part of time when\nthe message was sent from the\nexchange\nMillisecond Short The millisecond part of time\nwhen the message was sent\nfrom the exchange\nProduct ID or Short The identifier of the product for Refer the master files for the\nMarket Segment which the session is sent details on the product ID or the\nID Market segment ID.\nReserved Field 4 Short For Internal Use.\nFiller Short For Future Use\nMarket Type Short Type of market running in the Possible values for Market Type\nsegment are\n20 – PCAS\n0 – All other market\nRefer Section Trading states for\nsample business day for\npossible values and sequence of\nevents\nSession Number Short The current trading session Possible values for Session\nNumber are:\nValue Description\n0 Logon Session or\nEnd of Session\n1 Call Auction Order\n18\nBSE - CONFIDENTIAL"
    },
    {
      "page": 19,
      "text": "Direct NFCAST V 5.0\nEntry Start\n2 Call Auction\nMatching End\n3 Continuous Start\n4 Closing Start\n5 Post-Closing Start\n6 End of Day\n7 Member Query\n10 SPOS Order Entry\nEnd\n11 SPOS Matching End\n13 SPOS Continuous\nStart\nRefer Section Trading states for\nsample business day for\npossible values and sequence of\nevents\nReserved Field 5 Long For Internal Use.\nStart End Flag Char Indication for start or End of Applicable for PCAS market only\nsession\nS – Start of Session\nE – End of Session\nReserved Field 6 Char For Internal Use.\nReserved Field 7 Char [2] For Internal Use.\n4.6 Shortage Auction Session Change Message [2003]\nThis message is sent by the exchange whenever there is a transition of state for shortage auction session\nwhich is conducted once or twice a day. The message is not sent product wise instead a single message\nfor each session of shortage auction is sent.\nApplicable Segment: Equity Compression: No\nField Name Type Description Values, meanings,\nValidations\nMessage Type Long Type of message\nValue Description\n2003 Auction Session\nChange (Shortage)\nReserved Field 1 Long For Internal Use.\nReserved Field 2 Long For Internal Use.\nReserved Field 3 unsigned For Internal Use.\n19\nBSE - CONFIDENTIAL"
    },
    {
      "page": 20,
      "text": "Direct NFCAST V 5.0\nshort\nHour Short The hour part of time when the\nmessage was sent from the\nexchange\nMinute Short The minute part of time when\nthe message was sent from the\nexchange\nSecond Short The second part of time when\nthe message was sent from the\nexchange\nMillisecond Short The millisecond part of time\nwhen the message was sent\nfrom the exchange\nReserved Field 4 Short For Internal Use.\nReserved Field 5 Short For Internal Use.\nFiller Short For Future Use\nReserved Field 6 Short For Internal Use.\nSession Number Short The current trading session Possible values for Session\nNumber are:\nValue Description\n41 Start of Auction\n42 Start of Offer Entry\n43 Offer Entry Random\nEnd and Matching\n44 Member Query\n45 End of Auction\nReserved Field 7 Long For Internal Use.\nReserved Field 8 Char For Internal Use.\nReserved Field 9 Char For Internal Use.\nReserved Field 10 Char [2] For Internal Use.\n4.7 News Headline [2004]\nThis message informs about the company news (Announcement Data or notices). The message is sent\nwhenever there is some news or corporate action in a company. This message gives the url for the\ncorporate announcement.\nApplicable Segment: Equity & Equity Derivatives Compression: No\nField Name Type Description Values, meanings,\nValidations\nMessage Type Long Type of message\nValue Description\n20\nBSE - CONFIDENTIAL"
    },
    {
      "page": 21,
      "text": "Direct NFCAST V 5.0\n2004 News Headline\nReserved Field 1 Long For Internal Use.\nReserved Field 2 Long For Internal Use.\nReserved Field 3 unsigned For Internal Use.\nshort\nHour Short The hour part of time when the\nmessage was sent from the\nexchange\nMinute Short The minute part of time when\nthe message was sent from the\nexchange\nSecond Short The second part of time when\nthe message was sent from the\nexchange\nMillisecond Short The millisecond part of time\nwhen the message was sent\nfrom the exchange\nReserved Field 4 Short For Internal Use.\nReserved Field 5 Short For Internal Use.\nReserved Field 6 Short For Internal Use.\nNews Category Short The category of this news.\nReserved Field 7 Short For Internal Use.\nNews Id Long The news identifier of this news\nNews Headline Char The actual news headlines. The weblink for the corporate\n(39+1) announcement\nReserved Field 8 Char For Internal Use\nReserved Field 9 Char For Internal Use.\nReserved Field 10 Char [2] For Internal Use.\n4.8 Market Picture Broadcast [2020 and 2021]\nThis message is sent by the Exchange whenever there is a change in the order book of an\ninstrument/contract. The message is not sent on every update in the order book. Instead, it is sent\nwhenever there is a change in a defined snapshot interval. The interval is currently defined as 800\nmilliseconds.\nTo optimally use the network resources, updates for multiple instrument/ contracts is packaged in a\nsingle market picture message. The market picture message is the most frequently sent message and it\nhas the largest size. Thus, to reduce the size of packet over the network, the message is compressed\nfurther using native compression algorithm.\nThe member application must apply the decompression algorithm to retrieve the message. The\ndecompression logic is explained in detail in section Decompression of Market Picture Message.\n21\nBSE - CONFIDENTIAL"
    },
    {
      "page": 22,
      "text": "Direct NFCAST V 5.0\nApplicable Segment: All Compression: Yes\nField Name Type Description Values, meanings,\nValidations\nMessage Long Type of message\nType Value Description\n2020 Market\nPicture\n2021 Market Picture\n(Complex\nInstruments)\nReserved Long For Internal Use.\nField 1\nReserved Long For Internal Use.\nField 2\nReserved unsigned For Internal Use.\nField 3 short\nHour Short The hour part of time when the Hour\nmessage was sent from the\nexchange\nMinute Short The minute part of time when Minute\nthe message was sent from the\nexchange\nSecond Short The second part of time when Second\nthe message was sent from the\nexchange\nMillisecond Short The millisecond part of time Millisecond\nwhen the message was sent\nfrom the exchange\nReserved Short For Internal Use.\nField 4\nReserved Short For Internal Use.\nField 5\nNo of Short No. of market picture records This can have a maximum of 6\nRecords sent records\nThe following sub-structure will repeat no. of times as specified in the “No. of Records” field\nabove.\nInstrument Long Instrument code of the Instrument /contract code.\n/Contract or Instrument for which details are\nCode Long Long being sent. Datatype is to be treated as long\nfor message 2020 and long-long\nfor message type 2021\n22\nBSE - CONFIDENTIAL"
    },
    {
      "page": 23,
      "text": "Direct NFCAST V 5.0\nNo of Trades Unsigned Number of trades took place The cumulative no. of trades\nLong during the day for the during the day\nInstrument\nTraded Long Long Total traded quantity during the The cumulative no. of shares\nVolume day for the Instrument. traded during the day.\nTraded Long Long Total traded value during the The cumulative value traded\nValue day for the instrument. during the day. The value is\nalways disseminated in paise.\nThe Unit for this field will be\nprovided in field “Trade Value\nFlag” below. If the Flag is not set\nthen the absolute value should\nbe considered.\nTrade Value Char Unit for field “Traded Value” 'l' denotes lacs\nFlag ‘c’ denotes for crores\nReserved Char For Internal Use.\nField 6\nReserved Char For Internal Use.\nField 7\nReserved Char For Internal Use.\nField 8\nMarket Type Short The type of market Possible values for Market Type\nare\n20 – PCAS\n0 – All other market\nSession Short Possible values are\nNumber\nValue Description\n1 Call Auction Order\nEntry Start\n2 Call Auction\nMatching\n3 Continuous\n4 Closing\n5 Post-Closing\n10 SPOS Order Entry\n11 SPOS Matching\n23\nBSE - CONFIDENTIAL"
    },
    {
      "page": 24,
      "text": "Direct NFCAST V 5.0\nLTP Char The hour part of time when the Hour\nHour message was sent from the\nexchange\nLTP Char The minute part of time when Minute\nMinute the message was sent from the\nexchange\nLTP Char The second part of time when Second\nSecond the message was sent from the\nexchange\nLTP Char [3] The millisecond part of time Millisecond\nMillisecond when the message was sent\nfrom the exchange\nReserved Char [2] For Internal Use.\nField 9\nReserved Short For Internal Use.\nField 10\nReserved Long Long For Internal Use.\nField 11\nNo of Price Short Number of Price points in the Currently “n” = 5\npoints depth substructure below\nTimestamp Long Long Time at which the market data The time is in Julian format.\nwas generated at Exchange\nClose Rate Long Close price for the current For decimal precision refer\ntrading day. The field will be Price Precision Table\npopulated once close price for\nthe day is determined else it\nwould be 0\nLTQ (Last Long Long Quantity which got executed in The total quantity traded in the\nTraded the last trade last trade.\nQuantity)\nLTP Long Price at which last trade took For decimal precision refer\n(Last Traded place. Price Precision Table\nPrice)\nOpen Rate Long Opening rate of the Instrument. For decimal precision refer\nPrice Precision Table\nPrevious Long Previous trading day closing For decimal precision refer\nClose Rate rate of the Instrument. Price Precision Table\nHigh Rate Long Highest traded rate of the For decimal precision refer\nInstrument Price Precision Table\n24\nBSE - CONFIDENTIAL"
    },
    {
      "page": 25,
      "text": "Direct NFCAST V 5.0\nLow Rate Long Lowest traded rate of the For decimal precision refer\nInstrument Price Precision Table\nBlock Deal Long The reference price to be used\nReference for block deal orders.\nPrice\nIndicative Long The tentative equilibrium price For decimal precision refer\nEquilibrium determined during the order Price Precision Table\nPrice entry session of call auction.\nApplicable for equity segment\ninstruments only.\nThe field will be populated in\norder entry session if tentative\nequilibrium price is established\nelse it would be 0.\nIndicative Long Long The tentative match able Applicable for equity segment\nEquilibrium quantity determined during the instruments only.\nQuantity order entry session of call\nauction The field will be populated in\norder entry session if tentative\nequilibrium price is established\nelse it would be 0.\nTotal Bid Long Long Total Buy Quantity present in Total quantity present in the buy\nQuantity order book across all the price order book\npoints.\nTotal Offer Long Long Total Sell Quantity present in Total quantity present in the sell\nQuantity order book across all the price order book\npoints.\nLower Circuit Long Lower Price band for The lowest rate at which order\nLimit Instrument/ Contract can be placed during the day.\nUpper Circuit Long Upper Price band for The highest rate at which order\nLimit Instrument/Contract can be placed during the day.\nWeighted Long Weighted Average traded rate For decimal precision refer\nAverage price for Instrument Price Precision Table\nFollowing sub-structure will repeat number of times as specified in the “No. of Price points”\nfield above.\n25\nBSE - CONFIDENTIAL"
    },
    {
      "page": 26,
      "text": "Direct NFCAST V 5.0\nBest Bid Rate Long Best bid rate in the order book For decimal precision refer\nPrice Precision Table\nTotal Bid Long Long Total quantity available at best In case of equity derivatives and\nQuantity bid rate. currency derivatives the total\nquantity will include the implied\nquantity if it is available.\nTotal Bid Qty = Actual Order qty\n+ Implied Quantity\nThe implied quantity is\napplicable for the best price\npoint only.\nNo. of Bid at Unsigned No. of Orders at the Buy Price It will always show the number\nthe price Long point of actual orders in the order\npoints book. It will not consider the\norders contributing towards\nimplied price.\nIt will be 0 in case only implied\nquantity is available at the best\nprice point.\nImplied Buy Long Long The quantity implied at the best\nQuantity price point of this contract due If only implied quantity is\nto orders in other related available at the best price point,\ncontracts. then total quantity field and\nimplied quantity field will be\nsame.\nIf no implied quantity is available\nat the best price point, then\nimplied quantity field will be 0.\nReserved Long For Internal Use\nField 12\nBest Offer Long Best offer rate For decimal precision refer\nRate Price Precision Table\n26\nBSE - CONFIDENTIAL"
    },
    {
      "page": 27,
      "text": "Direct NFCAST V 5.0\nTotal Offer Long Long Total quantity available at best In case of equity derivatives and\nQty offer rate currency derivatives the total\nquantity will include the implied\nquantity if it is available.\nTotal Offer Qty = Actual Order\nqty + Implied Quantity\nThe implied quantity is\napplicable for the best price\npoint only.\nNo. of Ask at Unsigned No. of Orders at the Sell Price It will always show the number\nthe price Long point of direct orders in the order\npoint book. It will not consider the\norders contributing towards\nimplied price.\nIt will be 0 if only implied\nquantity is available at the best\nprice point.\nImplied Sell Long Long The quantity implied at the best The implied quantity is\nQuantity price point of this contract due applicable for the best price\nto orders in other related point only.\ncontracts.\nIf only implied quantity is\navailable at the best price point,\nthen total quantity field and\nimplied quantity field will be\nsame.\nIf no implied quantity is available\nat the best price point, then\nimplied quantity field will be 0.\nReserved Long For Internal Use.\nField 13\n27\nBSE - CONFIDENTIAL"
    },
    {
      "page": 28,
      "text": "Direct NFCAST V 5.0\n4.9 Auction Market Picture Broadcast [ 2017]\nThis broadcast is sent by Auction system whenever there is a shortage auction scheduled during the day.\nThis message provides information on the seller bids participating in the shortage auction.\nApplicable Segment: Equity Compression: No\nField Name Type Description Values, meanings,\nValidations\nMessage Long Type of message\nType Value Description\n2017 Auction Market\nPicture\nReserved Long For Internal Use.\nField 1\nReserved Long For Internal Use.\nField 2\nReserved unsigned For Internal Use.\nField 3 short\nHour Short The hour part of time when the Hour\nmessage was sent from the\nexchange\nMinute Short The minute part of time when Minute\nthe message was sent from the\nexchange\nSecond Short The second part of time when Second\nthe message was sent from the\nexchange\nMillisecond Short The millisecond part of time Millisecond\nwhen the message was sent\nfrom the exchange\nAuction Short The number of the shortage\nNumber auction\nAuction Short The current action trading\nTrading session\nSession\nNo of Short No. of market picture records This can have a maximum of 10\nRecords sent records\nNotice Char Notice Number The notice number of\nNumber [10+1]\nReserved Char For Internal Use\nField 4\n28\nBSE - CONFIDENTIAL"
    },
    {
      "page": 29,
      "text": "Direct NFCAST V 5.0\nThe following sub-structure will repeat no. of times as specified in the “No. of Records” field\nabove.\nInstrument Long Instrument code of the Instrument /contract code.\n/Contract Instrument for which details are\nCode being sent.\nReserved Long For Internal Use\nField 5\nAuction Qty Long Long Total Auction Quantity\nCeiling Price Long Highest Price 2 decimal precision\nFloor Price Long Lowest Price 2 decimal precision\nCut-off Rate Long\nLowest Long Lowest offered rate in auction.\nOffered Rate\nCumulative Long Long Total Offered quantity\nQty\nReserved Long For Internal Use.\nField 6\nReserved Short For Internal Use.\nField 7\nReserved Short For Internal Use.\nField 8\nReserved Char For Internal Use.\nField 9\nReserved Char For Internal Use.\nField 10\nReserved Char For Internal Use.\nField 11\nReserved Char For Internal Use.\nField 12\nThe following sub-structure will repeat 5 times.\nLikely Cut-off Long The likely highest rate at which\nRate execution will take place\nOffer Qty Long Long The cumulative quantity at the\nlikely cut-off rate\n29\nBSE - CONFIDENTIAL"
    },
    {
      "page": 30,
      "text": "Direct NFCAST V 5.0\n4.10 Odd-lot Market Picture Messages [2027]\nThis broadcast is sent by BOLTPLUS whenever there is trade in the odd-lot market. The Odd-lot market\ntrading does not take place on BOLTPLUS platform. This message provides only the trade information\nand order information is not provided through broadcast message. The TPS applications can drop this\nmessage if the odd-lot market trades are not useful for them.\nApplicable Segment: Equity Compression: No\nField Name Type Description Values, meanings,\nValidations\nMessage Long Type of message\nType Value Description\n2027 Odd-lot Market\nPicture\nReserved Long For Internal Use.\nField 1\nReserved Long For Internal Use.\nField 2\nReserved unsigned For Internal Use.\nField 3 short\nHour Short The hour part of time when the Hour\nmessage was sent from the\nexchange\nMinute Short The minute part of time when Minute\nthe message was sent from the\nexchange\nSecond Short The second part of time when Second\nthe message was sent from the\nexchange\nMillisecond Short The millisecond part of time Millisecond\nwhen the message was sent\nfrom the exchange\nReserved Short For Internal Use.\nField 4\nReserved Short For Internal Use.\nField 5\nNo of Short No. of market picture records This can have a maximum of 6\nRecords sent records\nThe following sub-structure will repeat no. of times as specified in the “No. of Records” field\nabove.\nInstrument Long Instrument code of the Instrument /contract code.\n/Contract Instrument for which details are\nCode being sent.\n30\nBSE - CONFIDENTIAL"
    },
    {
      "page": 31,
      "text": "Direct NFCAST V 5.0\nOpen Rate Long Opening rate of the Instrument. 2 decimal precision\nPrevious Long Previous trading day closing 2 decimal precision\nClose Rate rate of the Instrument.\nHigh Rate Long Highest traded rate of the 2 decimal precision\nInstrument\nLow Rate Long Lowest traded rate of the 2 decimal precision\nInstrument\nNo of Trades Unsigned Number of trades took place The cumulative no. of trades\nLong during the day for the during the day\nInstrument\nTraded Long Long Total traded quantity during the The cumulative no. of shares\nVolume day for the Instrument. traded during the day.\nTraded Long Long Total traded value during the The cumulative value traded\nValue day for the instrument. during the day.\nThe Unit for this field will be\nprovided in field “Trade Value\nFlag” below.\nLTQ (Last Long Long Quantity which got executed in The total quantity traded in the\nTraded the last trade last trade.\nQuantity)\nLTP Long Price at which last trade took 2 decimal precision\n(Last Traded place.\nPrice)\nClose Rate Long Close price for the current 2 decimal precision\ntrading day. The field will be\npopulated once close price for\nthe day is determined else it\nwould be 0\nTrade Value Char Unit for field “Traded Value” 'l' denotes lacs\nFlag ‘c’ denotes for crores\nReserved Char For Internal Use.\nField 7\nReserved Char For Internal Use.\nField 8\nReserved Char For Internal Use.\nField 9\nLower Circuit Long Lower Price band for The lowest rate at which order\nLimit Instrument/ Contract can be placed during the day.\n31\nBSE - CONFIDENTIAL"
    },
    {
      "page": 32,
      "text": "Direct NFCAST V 5.0\nUpper Circuit Long Upper Price band for The highest rate at which order\nLimit Instrument/Contract can be placed during the day.\nWeighted Long Weighted Average traded rate The weighted average traded\nAverage price for Instrument rate for the day.\nMarket Type Short The type of market Not applicable\nSession Short Not applicable\nNumber\nLTP Char The hour part of time when the Hour\nHour message was sent from the\nexchange\nLTP Char The minute part of time when Minute\nMinute the message was sent from the\nexchange\nLTP Char The second part of time when Second\nSecond the message was sent from the\nexchange\nLTP Char [3] The millisecond part of time Millisecond\nMillisecond when the message was sent\nfrom the exchange\nReserved Char [2] For Internal Use.\nField 10\n4.11 Debt Market Picture [2033]\nThis broadcast is sent by BOLTPLUS whenever there is a change in order book of a debt\ninstrument/contract. The message is applicable for debt instruments where trading takes place on clean\nprice.\nThe message is not sent on every update in the order book. Instead, it is sent whenever there is a\nchange in a defined snapshot interval. The interval is currently defined as 800 milliseconds.\nIn order to optimally use the network resources, updates for multiple instrument/ contracts is packaged\nin a single market picture message. The market picture message is the most frequently sent message\nwith the highest packet size. Thus, to reduce the size of packet over the network, the message is\ncompressed further using native compression algorithm.\nThe member application must apply the decompression algorithm to retrieve the message.\nApplicable Segment: Equity Compression: Yes\nField Name Type Description Values, meanings,\nValidations\n32\nBSE - CONFIDENTIAL"
    },
    {
      "page": 33,
      "text": "Direct NFCAST V 5.0\nMessage Long Type of message\nType Value Description\n2033 Debt Market\nPicture\nReserved Long For Internal Use\nField 1\nReserved Long For Internal Use\nField 2\nReserved unsigned For Internal Use\nField 3 short\nHour Short Time : HH\nMinute Short Time : MM\nSecond Short Time : SS\nMillisecond Short Time : sss\nReserved Short For Internal Use\nField 4\nReserved Short For Internal Use\nField 5\nNo of Short No. of market picture records This can have a maximum of 6\nRecords sent records\nThe following sub-structure will repeat no. of times as specified in the “No. of Records” field\nabove.\nInstrument Long Instrument code of the\nCode Instrument for which Touchline\ndetails are being sent.\nNo of Trades Long Number of trades took place The cumulative no. of trades\nduring the day for the during the day\nInstrument\nVolume Long Total Traded qty during the day The cumulative no. of shares\nfor the Instrument traded during the day\nValue Long Total Traded value during the The cumulative value traded\nday for the instrument during the day\nTrade Value Char Unit for value 'l' for lacs, 'c' for crores\nFlag\nReserved Char For Internal Use\nField 6\nReserved Char For Internal Use\nField 7\n33\nBSE - CONFIDENTIAL"
    },
    {
      "page": 34,
      "text": "Direct NFCAST V 5.0\nReserved Char For Internal Use\nField 8\nMarket Type Short The type of market Possible values for Market Type\nare\n20 – PCAS\n0 – All other market\nSession Short The Session of the Instrument Possible values are\nNumber\nValue Description\n1 Call Auction Order\nEntry Start\n2 Call Auction\nMatching\n3 Continuous\n4 Closing\n5 Post-Closing\n10 SPOS Order Entry\n11 SPOS Matching\nLTP Hour Char Hour at which Last trade took\nplace\nLTP Minute Char Minute at which Last trade took\nplace\nLTP Second Char Second at which Last trade took\nplace\nLTP Char [3] Millisecond at which Last trade\nMillisecond took place\nReserved Char [2] For Internal Use\nField 9\nReserved Short For Internal Use\nField 10\nNo of Price Short “n” Number of Price points Currently “n” = 5\npoints\nTimestamp Long Long Time at which the market data The time is in Julian format.\nwas generated at Exchange\n34\nBSE - CONFIDENTIAL"
    },
    {
      "page": 35,
      "text": "Direct NFCAST V 5.0\nClose Rate Long Close price for the current day The rate will be in basis points\nonce close price for the day is i.e. 4 decimal precision.\ndetermined in closing session\nThe field will be populated once\nclose price for the day is\ndetermined else it would be 0\nYTM Long Yield to Maturity computed\nbased on the last traded price of\na bond\nYTP Long Yield to Put computed based on\nthe last traded price of a bond.\nApplicable only if a bond is\nPutable\nYTC Long Yield to Call computed based on\nthe last traded price of a bond.\nApplicable only if a bond is\nCallable\nLast Trade Long Quantity which got executed in The total quantity traded in the\nQty the Last trade last trade\nLTP Long Price at which last trade took The rate will be in basis points\nplace. i.e. 4 decimal precision.\nThe traded rate in the last trade\nOpen Rate Long Opening rate of the Instrument. The rate will be in basis points\ni.e. 4 decimal precision.\nPrevious Long Previous Closing rate of the The rate will be in basis points\nClose Rate Instrument i.e. 4 decimal precision.\nPrevious day’s close price in all\nsessions\nHigh Rate Long Highest traded rate of the The rate will be in basis points\nInstrument i.e. 4 decimal precision.\n.\nLow Rate Long Lowest traded rate of the The rate will be in basis points\nInstrument i.e. 4 decimal precision.\nReserved Long For Internal Use\nField 11\nIndicative Long For Future Use\nEquilibrium\nPrice\n35\nBSE - CONFIDENTIAL"
    },
    {
      "page": 36,
      "text": "Direct NFCAST V 5.0\nIndicative Long For Future Use\nEquilibrium\nQty\nTotal Bid Qty Long Total Bid Qty Total quantity present in the buy\norder book\nTotal Offer Long Total Offer Qty Total quantity present in the sell\nQty order book\nLower Circuit Long Lower Circuit limit for The rate will be in basis points\nLimit Instrument i.e. 4 decimal precision.\nThe lowest rate at which order\ncan be placed during the day\nUpper Circuit Long Upper Circuit limit for The rate will be in basis points\nLimit Instrument i.e. 4 decimal precision.\nThe highest rate at which order\ncan be placed during the day\nWeighted Long Weighted Average for The rate will be in basis points\nAverage Instrument i.e. 4 decimal precision.\nFollowing sub-structure will repeat number of times as specified in the “No. of Price points”\nfield above.\nBest Bid Rate Long Best bid rate in paise The rate will be in basis points\ni.e. 4 decimal precision.\nTotal Bid Qty Long Total quantity available at best\nbid rate.\nBuy YTM Long Yield to Maturity computed\nbased on the Buy price of a\nbond\nBuy YTP Long Yield to Call computed based on\nthe Buy price of a bond.\nApplicable only if a bond is\nCallable\nBuy YTC Long Yield to Call computed based on\nthe Buy price of a bond.\nApplicable only if a bond is\nCallable\nNo. of Bid at Long No. of Orders at the Buy Price It will always show the number\nthe price point of actual orders in the order\npoints book.\n36\nBSE - CONFIDENTIAL"
    },
    {
      "page": 37,
      "text": "Direct NFCAST V 5.0\nFiller Long\nBest Offer Long Best offer rate in paise The rate will be in basis points\nRate i.e. 4 decimal precision.\nTotal Offer Long Total quantity available at best\nQty offer rate\nSell YTM Long Yield to Maturity computed\nbased on the Sell price of a\nbond\nSell YTP Long Yield to Call computed based on\nthe Sell price of a bond.\nApplicable only if a bond is\nCallable\nSell YTC Long Yield to Call computed based on\nthe Sell price of a bond.\nApplicable only if a bond is\nCallable\nNo. of Ask at Long No. of Orders at the Sell Price It will always show the number\nthe price point of direct orders in the order\npoint book.\nFiller Long\n4.12 Index Change Message [2011 and 2012]\nThis message provides information for the change in the index value for the indices. The message is\ndelivered in the equity multicast stream only. Different Indices are disseminated at different frequencies\nin two different messages. Indices with lower dissemination frequency are sent in message (2011) and\nothers are sent in message (2012).\nApplicable Segment: Equity Compression: No\nField Name Data Description Values, meanings,\nType Validations\nMessage Long Type of message.\nType Value Description\n2011 Index broadcast 1\n2012 Index broadcast 2\nThe dissemination frequency is\ndifferent in above 2 messages.\nCurrently defined frequency is:\n37\nBSE - CONFIDENTIAL"
    },
    {
      "page": 38,
      "text": "Direct NFCAST V 5.0\n2011 = 1 second.\n2012 = 8 second.\nCritical Indices like Sensex\nBSE100 etc. are sent in 2011 and\nothers in 2012.\nReserved Long For Internal Use.\nField 1\nReserved Long For Internal Use.\nField 2\nReserved unsigne For Internal Use.\nField 3 d short\nHour Short The hour part of time when the\nmessage was sent from the\nexchange\nMinute Short The minute part of time when the\nmessage was sent from the\nexchange\nSecond Short The second part of time when the\nmessage was sent from the\nexchange\nMillisecond Short The millisecond part of time when\nthe message was sent from the\nexchange\nReserved Short For Internal Use.\nField 4\nReserved Short For Internal Use.\nField 5\nNo. of Short Number of records. Maximum no. of records = 24\nRecords\nThe following sub-structure will repeat no. of times as specified in the “No. of Records” field\nabove.\nIndex Code Long The Index Code assigned to the Refer Section Index Code\nindex. Mapping for details on Index\ncodes\nIndex High Long Day’s highest index value.\nIndex Low Long Day’s lowest index value.\nIndex Open Long Day’s opening index value.\nPrevious Long Previous day’s index closing\nIndex Close value/indicative close value/\ntoday’s index close value.\nIndex Value Long Current index value. In Continuous session it will\ncontain current index value and\nclosing session onwards it would\ncontain the day’s closing index\nvalue.\n38\nBSE - CONFIDENTIAL"
    },
    {
      "page": 39,
      "text": "Direct NFCAST V 5.0\nThe field has two decimal\nprecision.\nIndex ID Char The Index Identifier of the index E.g. SENSEX, BSE100 etc.\n(6+1) for which values are being sent.\nReserved Char For Internal Use.\nField 6\nReserved Char For Internal Use.\nField 7\nReserved Char For Internal Use.\nField 8\nReserved Char [2] For Internal Use.\nField 9\nIndex Close Short Identifier for the value published 0 = Indicates Previous Index\nValue in “Previous Index Close” field Close value\nIndicator 1= Indicates today’s Indicative\nclosing value of Index\n2= Indicates today’s Index Close\nValue disseminated in the\nclosing session\nReserved Short For Internal Use.\nField 10\n4.13 Limit Price Protection Range [2034]\nThe message is used to communicate the execution range of limit orders applicable for the instrument.\nThe range is dynamic in nature and changes with the reference price of the instrument. The reference\nprice can be the LTP or the theoretical price.\nApplicable Segment: Equity Derivatives Compression: No\nField Name Data Description Values, meanings,\nType Validations\nValue Description\n2034 Limit Price\nProtection Range\nMessage\nType Long Type of message\nReserved\nField 1 Long For Internal Use\nReserved\nField 2 Long For Internal Use\nReserved unsigne For Internal Use\n39\nBSE - CONFIDENTIAL"
    },
    {
      "page": 40,
      "text": "Direct NFCAST V 5.0\nField 3 d short\nThe hour part of time when the\nmessage was sent from the\nHour Short exchange Hour\nThe minute part of time when the\nmessage was sent from the\nMinute Short exchange Minute\nSecond Short The second part of time when the\nmessage was sent from the\nexchange\nMillisecond Short The millisecond part of time when\nthe message was sent from the\nexchange\nReserved Short For Internal Use.\nField 4\nReserved Short For Internal Use.\nField 5\nNo. of Short Number of records. Maximum no. of records = 20\nRecords\nThe following sub-structure will repeat no. of times as specified in the “No. of Records” field\nabove.\nInstrument Instrument code of the\n/Contract Instrument for which details are\nCode Long being sent. Instrument /contract code.\nUpper Limit\nExecution The Upper price beyond which the\nPrice Long Buy orders will be rejected\nLower Limit\nExecution The lower price beyond which the\nPrice Long Sell orders will be rejected\nReserved\nField 6 Long For Internal Use. future use\nReserved\nField 7 Long For Internal Use. future use\n40\nBSE - CONFIDENTIAL"
    },
    {
      "page": 41,
      "text": "Direct NFCAST V 5.0\n4.14 Call Auction cancelled quantity message [2035]\nThe message is used to communicate the total cancelled buy/sell orders and cancelled buy/sell quantity\napplicable for the instrument during SPOS/ Relisting auction session. The data will be dynamic in nature\nduring the auction session of the instrument. The cancelled quantity information will be cumulative for\nthe call auction session\nApplicable Segment: Equity Compression: No\nField Name Data Description Values, meanings,\nType Validations\nValue Description\n2035 Call Auction\ncancelled quantity\nmessage\nMessage\nType Long Type of message\nReserved\nField 1 Long For Internal Use\nReserved\nField 2 Long For Internal Use\nReserved unsigne\nField 3 d short For Internal Use\nThe hour part of time when the\nmessage was sent from the\nHour Short exchange Hour\nThe minute part of time when the\nmessage was sent from the\nMinute Short exchange Minute\nSecond Short The second part of time when the\nmessage was sent from the\nexchange\nMillisecond Short The millisecond part of time when\nthe message was sent from the\nexchange\nReserved Short For Internal Use.\nField 4\nReserved Short For Internal Use.\nField 5\nNo. of Short Number of records. Maximum no. of records = 20\nRecords\nThe following sub-structure will repeat no. of times as specified in the “No. of Records” field\nabove.\nInstrument Long Instrument code of the Instrument /contract code.\n41\nBSE - CONFIDENTIAL"
    },
    {
      "page": 42,
      "text": "Direct NFCAST V 5.0\n/Contract Instrument for which details are\nCode being sent.\nCancelled Long The number of total buy quantity\nBuy Qty Long cancelled during auction session.\nCancelled The total number of cancelled\nBuy Orders Long buy orders during auction session.\nCancelled Long The number of total sell quantity\nSell Qty Long cancelled during auction session.\nCancelled The total number of cancelled sell\nSell Orders Long orders during auction session.\nReserved For Internal Use. future use\nField 6 Long\nReserved For Internal Use. future use\nField 7 Long\n4.15 Close Price [2014]\nClose price message will be sent in closing session when the close price of the instrument is calculated.\nThe message will have day’s close price. Additionally, the close price message will be sent in the morning\nbefore the start of the market. In this case the close price will be the previous day’s close price.\nApplicable Segment: All Compression: No\nField Name Type Description Values, meanings,\nValidations\nMessage Type Long Type of message\nValue Description\n2014 Close Price\nReserved Field 1 Long For Internal Use.\nReserved Field 2 Long For Internal Use.\nReserved Field 3 unsign For Internal Use.\ned\nshort\nHour Short The hour part of time when the\nmessage was sent from the\nexchange\nMinute Short The minute part of time when\nthe message was sent from the\nexchange\nSecond Short The second part of time when\nthe message was sent from the\n42\nBSE - CONFIDENTIAL"
    },
    {
      "page": 43,
      "text": "Direct NFCAST V 5.0\nexchange\nMillisecond Short The millisecond part of time\nwhen the message was sent\nfrom the exchange\nReserved Field 4 Short For Internal Use.\nReserved Field 5 Short For Internal Use.\nNo of Records Short Number of Instruments in this Maximum no. of records = 80\nmessage\nThe following sub-structure will repeat no. of times as specified in the “No. of Records” field\nabove.\nInstrument Code Long Instrument Id of the Instrument\nPrice Long The close price for the For decimal precision refer\nInstrument Price Precision Table\nReserved Field 6 Char For Internal Use\nTraded Flag Char Traded Today. Y- Yes\nN- No\nReserved Field 7 Char For Internal Use.\nReserved Field 8 Char For Internal Use.\n4.16 Open Interest Message [2015]\nOpen Interest message will be sent by BOLTPLUS in a specific interval for the Derivatives instrument\nlisted in the Exchange. The broadcast will be sent whenever there is change in the OI of an instrument.\nFor recovery purposes the OI will be sent for all contracts periodically throughout the day irrespective if\nthere was any change in the OI.\nApplicable Segment: All Derivatives Compression: No\nField Name Type Description Values, meanings,\nValidations\nMessage Long Type of message\nType Value Description\n2015 Open Interest\nReserved Long For Internal Use\nField 1\nReserved Long For Internal Use\nField 2\nReserved unsigned For Internal Use\nField 3 short\nHour Short The hour part of time when the\n43\nBSE - CONFIDENTIAL"
    },
    {
      "page": 44,
      "text": "Direct NFCAST V 5.0\nmessage was sent from the\nexchange\nMinute Short The minute part of time when\nthe message was sent from the\nexchange\nSecond Short The second part of time when\nthe message was sent from the\nexchange\nMillisecond Short The millisecond part of time\nwhen the message was sent\nfrom the exchange\nReserved Short For Internal Use.\nField 4\nReserved Short For Internal Use.\nField 5\nNo. of Short Number of records Maximum no. of records = 26\nRecords\nThe following sub-structure will repeat no. of times as specified in the “No. of Records” field\nabove.\nInstrument long Instrument Id of the Instrument\nId\nOpen Long The Open Interest in the market For Currency Derivatives\nInterest long in QTY terms segment, the value will be in lots\nQuantity while for equity derivatives the\nvalue will be in qty\nOpen long The Open interest values. 2 decimal precision\nInterest long\nValue\nOpen long Change in open interest in term For Currency Derivatives\nInterest of quantity segment, the value will be in lots\nChange while for equity derivatives the\nvalue will be in qty\nReserved Char(4) For Internal Use.\nField 6\nReserved Long For Internal Use.\nField 7\nReserved Short For Internal Use.\nField 8\nReserved Short For Internal Use.\nField 9\nReserved Char For Internal Use\nField 10\nReserved Char For Internal Use.\nField 11\nReserved Char[2] For Internal Use.\nField 12\n44\nBSE - CONFIDENTIAL"
    },
    {
      "page": 45,
      "text": "Direct NFCAST V 5.0\n4.17 VaR Percentage [2016]\nVAR Percentage message will be sent by Exchange at periodic interval. The latest Instrument wise VAR\nand ELM VAR Percentages will be sent by Exchange. This message is applicable for equity instruments,\nand it will be available in Equity multicast stream only\nApplicable Segment: All Compression: No\nField Name Type Description Values, meanings,\nValidations\nMessage long Type of message\nType Value Description\n2016 VaR Percentage\nReserved Long For Internal Use.\nField 1\nReserved Long For Internal Use\nField 2\nReserved unsigne For Internal Use\nField 3 d short\nHour Short The hour part of time when the\nmessage was sent from the\nexchange\nMinute Short The minute part of time when the\nmessage was sent from the\nexchange\nSecond Short The second part of time when the\nmessage was sent from the\nexchange\nMillisecond Short The millisecond part of time\nwhen the message was sent from\nthe exchange\nReserved Short For Internal Use.\nField 4\nReserved Short For Internal Use.\nField 5\nNo. of Short Number of records Maximum no. of records = 40\nRecords\nThe following sub-structure will repeat no. of times as specified in the “No. of Records” field\nabove.\nInstrument Long Instrument Id of the Instrument\ncode\n45\nBSE - CONFIDENTIAL"
    },
    {
      "page": 46,
      "text": "Direct NFCAST V 5.0\nVAR/IM Long The applicable VaR for the 2 decimal precision\nPercentage current period.\nELM VAR Long The applicable ELM for the 2 decimal precision\nPercentage current period.\nReserved Long For Internal Use.\nField 6\nReserved Short For Internal Use.\nField 7\nReserved Short For Internal Use.\nField\nReserved Char For Internal Use\nField 8\nIdentifier Char Identifier is used to identify the E = Equity\nmarket for which the message is\nsent\nReserved Char[2] For Internal Use.\nField 9\nNote: If the VAR and ELMVAR values received from the CTE are 975 and 1425, it means that the VAR\npercentage and the ELMVAR percentage are 9.75% and 14.25% respectively.\n4.18 RBI Reference Rate [2022]\nThis message is used to disseminate the reference rate published by RBI for foreign exchange. The rate\nis published multiple times during the day. The date field specifies the date for which the rate is\napplicable. This field can be used to identify if the new rate is published by RBI.\nApplicable Segment: Currency Derivatives Compression: No\nField Name Type Description Remarks\nMessage Long Type of message\nType Value Description\n2022 RBI Reference Rate\nReserved Long\nField 1\nReserved Long For Internal Use\nField 2\nReserved unsigned For Internal Use\nField 3 short\nHour Short The hour part of time when the\nmessage was sent from the\nexchange\nMinute Short The minute part of time when\nthe message was sent from the\n46\nBSE - CONFIDENTIAL"
    },
    {
      "page": 47,
      "text": "Direct NFCAST V 5.0\nexchange\nSecond Short The second part of time when\nthe message was sent from the\nexchange\nMillisecond Short The millisecond part of time\nwhen the message was sent\nfrom the exchange\nReserved Short\nField 4\nReserved Short For Internal Use\nField 5\nNo. Of Short Number of records Indicates the number of times\nRecords the following sub structure will\nrepeat\nThe following sub-structure will repeat no. of times as specified in the “No. of Records” field\nabove.\nUnderlying Long The underlying Asset 600 – USD\nAsset Id 601 – GBP\n602- JPY\n603 - EUR\nRBI Rate Long The reference rate in bps The rate should be divided by\n10000 to get rate in decimal.\nReserved Short For future use\nField 6\nReserved Short For future use\nField 7\nDate Char(11) The date for which the reference Format of the field\nrate is applicable. DD-MM-YYYY\nFiller Char(1) Pad\n4.19 Implied Volatility [2028]\nThis message will be sent for the Derivatives contracts for trading activities.\nApplicable Segment: Equity Derivatives Compression: No\nField Name Type Description Remarks\nMessage Type Long Type of message\nValue Description\n2028 Implied Volatility\nReserved Field 1 Long\nReserved Field 2 Long For Internal Use\nReserved Field 3 unsign For Internal Use\ned\nshort\nHour Short The hour part of time when the\n47\nBSE - CONFIDENTIAL"
    },
    {
      "page": 48,
      "text": "Direct NFCAST V 5.0\nmessage was sent from the\nexchange\nMinute Short The minute part of time when\nthe message was sent from the\nexchange\nSecond Short The second part of time when\nthe message was sent from the\nexchange\nMillisecond Short The millisecond part of time\nwhen the message was sent\nfrom the exchange\nReserved Field 4 Short\nReserved Field 5 Short For Internal Use\nNo. Of Records Short Number of records Indicates the number of times\nthe following sub structure will\nrepeat. Max 13\nThe following sub-structure will repeat no. of times as specified in the “No. of Records” field\nabove.\nInstrument Id of the\nInstrument Id Long Instrument\nTo display Implied Volatility (IV)\nin percentage term. The value\nneeds to be multiplied by 100\nImplied Volatility Long Long rounded up to 2 decimals\nReserved Field 6 Long Long\nReserved Field 7 Long Long\nReserved Field 8 Long Long\nReserved Field 9 Long Long\nReserved Field 10 Long Long\nReserved Field 11 Long Long\nReserved Field 12 Long For Internal Use\nReserved Field 13 Short For Internal Use\nReserved Field 14 Short For Internal Use\nReserved Field 15 Char For Internal Use\nReserved Field 16 Char For Internal Use\nReserved Field 17 Char[2] For Internal Use\n5 Decompression of Market Depth Message\nBSE applies the compression only on market picture messages viz Message type 2020 and 2021 only. All\nother market data messages can be read from the socket directly as per the structure defined in API.\nThe compression principle used is proprietary.\n48\nBSE - CONFIDENTIAL"
    },
    {
      "page": 49,
      "text": "Direct NFCAST V 5.0\nIn case of market picture message, the entire market picture message is not sent in compressed format.\nFor each record present in the market picture packet, the compression starts with the open rate field\nand ends with the last field for that record. All data points from open rates onwards are in compressed\nformat. The decompression logic is detailed with an example in section Example for full market picture\nreading\nIt is suggested that the user should read 2000 bytes of data by default in a single read call. This single\nread call will get single packet only. The first 4 bytes will convey the message type and depending upon\nthe message type the user should process the required messages or drop the message if not required.\nSince the size of market picture message cannot be ascertained due to compression logic, the market\npicture message needs to be read byte by byte. It cannot be mapped to the structure directly as defined\nin the API.\nBinary values are presented in big-endian byte order, so the TPS application needs to convert it to little-\nendian byte order.\n✓ Big-Endian means that the most significant byte of any multibyte data field is stored at the\nlowest memory address, which is also the address of the larger field.\n✓ Little-Endian means that the least significant byte of any multibyte data field is stored at the\nlowest memory address, which is also the address of the larger field.\n5.1 Compression Principle\nThe idea used in compression is that rate fields in the structure are defined as long (4 bytes) however\nsince all the prices for an instrument usually operates in nearby range thus instead of using 4 bytes for\neach price, if differential value with respect to a base price is sent then the differential value would\ngenerally be no exceeding 2 bytes capacity. Thus 2 bytes on each price field can be saved. Similar is the\nidea behind the quantity related field in the structure.\n5.2 Decompression Mechanism\nFor decompression 2 fields are marked as base fields. One base field (LTP) is used for price and the other\nbase field (LTQ) is used for Quantity. All the compressed fields contain the difference value with respect\nto base fields in 2 bytes. The user needs to add this 2-byte field value with the base field value to arrive\nthe actual value of the next filed.\nIn case the difference value exceeds 2 bytes then the actual value is sent in next 4 bytes. So, for all\ncompressed fields the user needs to read 2 bytes first then depending upon the value in the 2 bytes field\nthe user needs to decide what to do next.\nIf the 2 bytes field value is 32767 the user needs to read the next 4 bytes to have the actual value as the\ndiff value exceeds 2 bytes. The logic is explained in detail with an example in the example section\nExample for full market picture packet reading\n5.3 Decompression Mechanism for Best 5 substructure\nIn case of best 5 structures, 3 additional aspects are covered in decompression mechanism\n5.4 Reading Sequence\nThe best 5 structure needs to be read for buy side and sell side independently i.e. the best 5 Bid\nstructure is read first followed by best 5 offer structure.\nRead 5 Best Bid Fields in the following order i.e.\n49\nBSE - CONFIDENTIAL"
    },
    {
      "page": 50,
      "text": "Direct NFCAST V 5.0\n✓ Best Bid Rate1, Total Bid Qty1, No. of Bid at the price points1, Implied Buy Quantity 1\n✓ Best Bid Rate2, Total Bid Qty2, No. of Bid at the price points2, Implied Buy Quantity 2\n✓ Best Bid Rate3, Total Bid Qty3, No. of Bid at the price points3, Implied Buy Quantity 3\n✓ Best Bid Rate4, Total Bid Qty4, No. of Bid at the price points4, Implied Buy Quantity 4\n✓ Best Bid Rate5, Total Bid Qty5, No. of Bid at the price points5, Implied Buy Quantity 5\nOnce 5 Best Bid Fields completed then start reading the 5 Best Offer Fields in similar order.\n5.5 Decompression logic\nThe general decompression mechanism mentioned above holds true for best 5 structures also.\nAdditionally, the base fields are used to decompress best 5 structure changes with each level.\nThe base field used for different levels is different i.e. for e.g. the base fields used in level 1 are different\nthan base fields used in level 2.\nFor each level the base fields are previous level field values. The table below provides the base filed\nused in each level for the buy side best 5 structures.\nLevel 1 Best Bid 1 Best Bid Qty 1 No of orders 1 Implied Buy Qty 1\nBase LTP LTQ LTQ LTQ\nLevel 2 Best Bid 2 Best Bid Qty 2 No of orders 2 Implied Buy Qty 2\nBase Best Bid 1 Best Bid Qty 1 No of orders 1 Implied Buy Qty 1\nLevel 3 Best Bid 3 Best Bid Qty 3 No of orders 3 Implied Buy Qty 3\nBase Best Bid 2 Best Bid Qty 2 No of orders 2 Implied Buy Qty 2\nLevel 4 Best Bid 4 Best Bid Qty 4 No of orders 4 Implied Buy Qty 4\nBase Best Bid 3 Best Bid Qty 3 No of orders 3 Implied Buy Qty 3\nLevel 5 Best Bid 5 Best Bid Qty 5 No of orders 5 Implied Buy Qty 5\nBase Best Bid 4 Best Bid Qty 4 No of orders 4 Implied Buy Qty 4\nSimilar is the decompression logic for the sell side best 5 structures.\n5.6 Handling condition when no orders present at a price point\nIn the best 5 structure, it is possible that the orders may not be present on all 5 price points thus the\nprice points where there are no orders are present are not sent in the structure. Thus, during\ndecompression of the best 5 substructure, additionally following logic needs to be also applied.\nIf while reading the 5 Best Bid Fields if any Best Bid Rate is equals to 32766 then the remaining Best Bid\nFields will not be present so 32766 indicates there are no more buy price points available in the book.\nSimilarly, while reading the 5 Best Offer Fields if any Best Offer Rate is equals to -32766 then the\nremaining 5 Best Offer Fields will not be present.\n5.7 Repetition of Instruments\nOnce the compression of the first instrument is completed the user needs to know the number of bytes\nhe has read. Let’s assume after the first instrument the number of bytes read as 160.\nSo, the user needs to start reading 4 bytes from 160 bytes to get instrument code. Read the next 4 bytes\nfor number of trades and continue till compression starts. Store the base values in memory for the\nsecond instrument. Then apply the compression logic.\n50\nBSE - CONFIDENTIAL"
    },
    {
      "page": 51,
      "text": "Direct NFCAST V 5.0\n5.8 Summary of decompression mechanism\n✓ Identify the base values.\n✓ Store the base values in memory.\n✓ Read next 2 bytes and add the value to the base value to get final value.\n✓ If value is 32767 means diff value is exceeded, thus read next 4 bytes to have the actual\nvalue.\nFor Best 5 structure Read 2 bytes\n✓ If value is 32767 means diff value is exceeded, thus read next 4 bytes to have the actual\nvalue.\n✓ If value is 32766 or -32766 means end of best bid or best offer.\n✓ The base value for level 1 is LTP and LTQ\n✓ The base value for all subsequent level (level n) is its previous level (level n-1\n5.9 Example of Decompression Logic\nFollowing are 3 examples explaining the decompression logic for the market picture message.\n5.9.1 Example for General Decompression Mechanism\nLet’s say base field for Rate is Last Traded Rate and its value is 1000. Open Rate as 500 and Previous\nClose Rate as 40000 and High Rate as 1000.\nField Compressed/ Base Value Byte Action\nLast Traded Rate Base 1000 4 Read 4 bytes to get 1000 and store it in memory\nOpen Rate Compressed -500 2 Read next 2 bytes to get -500 and apply it to LTR\nto get the final value as 500.\nPrevious Close Compressed 32767 2 Read 2 bytes to get 32767 and this value is an\nRate indicator that diff value exceeds 2 bytes\n40000 4 Read next 4 bytes to have the actual value\n40000. No need to apply base value.\nHigh Rate Compressed 0 2 Read next 2 bytes to get 0 and apply it to LTR to\nget the final value as 1000.\n5.9.2 Example for Best 5 structure decompression mechanism.\nFor example, for an instrument only one bid rate and no offer rate are available as below.\nBest Bid Rate1 as 1000, Total Bid Qty1=25, No. of Bid at the price points1= 5, Implied Buy Qty=0 and no\nOffer Rate\nBase LTP is 1000 and Base LTQ is 10\nField Compressed/ Base Value Byte Action\n51\nBSE - CONFIDENTIAL"
    },
    {
      "page": 52,
      "text": "Direct NFCAST V 5.0\nLast Traded Rate Base 1000 4 Assume already available in memory\nLast Traded Base 10 4 Assume already available in memory\nQuantity\nBest Bid Rate1 Compressed 0 2 Read next 2 bytes to get 0 and apply it to LTR\nto get the final value as 1000.\nTotal Bid Qty1 Compressed 15 2 Read next 2 bytes to get 15 and apply it to LTQ\nto get the final value as 25.\nBid at the price Compressed -5 2 Read next 2 bytes to get -5 and apply it to LTQ\npoints1 to get the final value as 5.\nImplied Buy Compressed -10 2 Read next 2 bytes to get -10 and apply it to\nQuantity 1 LTQ to get the final value as 0.\nBest Bid Rate2 Compressed 32766 2 Read next 2 bytes to get 32766 indicates end\nof Best bid [Not available]\nTotal Bid Qty2 Compressed NA 0 Not Available\nBid at the price Compressed NA 0 Not Available\npoints2\nImplied Buy Compressed NA 0 Not Available\nQuantity 2\nBest Bid Rate3 Compressed NA 0 Not Available\nTotal Bid Qty3 Compressed NA 0 Not Available\nBid at the price Compressed NA 0 Not Available\npoints3\nImplied Buy Compressed NA 0 Not Available\nQuantity 3\nBest Bid Rate4 Compressed NA 0 Not Available\nTotal Bid Qty4 Compressed NA 0 Not Available\nBid at the price Compressed NA 0 Not Available\npoints4\nImplied Buy Compressed NA 0 Not Available\nQuantity 4\nBest Bid Rate5 Compressed NA 0 Not Available\nTotal Bid Qty5 Compressed NA 0 Not Available\nBid at the price Compressed NA 0 Not Available\npoints5\nImplied Buy Compressed NA 0 Not Available\nQuantity 5\nBest Offer Rate1 Compressed -32766 2 Read next 2 bytes to get -32766 indicates end\nof Best offer [Not available]\nTotal Offer Qty1 Compressed NA 0 Not Available\nOffer at the price Compressed NA 0 Not Available\npoints1\nImplied Sell Compressed NA 0 Not Available\nQuantity 1\n52\nBSE - CONFIDENTIAL"
    },
    {
      "page": 53,
      "text": "Direct NFCAST V 5.0\n5.9.3 Example for full market picture packet reading\nField Name Type Action\nMessage Type Long Read 4 bytes\nReserved Field Long Read next 4 bytes\nReserved Field Long Read next 4 bytes\nReserved Field unsigne Read next 2 bytes\nd short\nHour Short Read next 2 bytes\nMinute Short Read next 2 bytes\nSecond Short Read next 2 bytes\nMillisecond Short Read next 2 bytes\nReserved Field Short Read next 2 bytes\nReserved Field Short Read next 2 bytes\nNo of Records Short Read next 2 bytes\nFollowing is a market picture structure appearing repeatedly (Max 5 times)\nInstrument Code Long Read next 4 bytes for message 2020 / 8 bytes for 2021\nNo of Trades Unsigne Read next 4 bytes\nd Long\nVolume Long Read next 8 bytes\nLong\nValue Long Read next 8 bytes\nLong\nTrade Value Flag Char Read next 1 byte\nTrend Char Read next 1 byte\nSix Lakh Flag Char Read next 1 byte\nReserved Field Char Read next 1 byte\nMarket Type Short Read next 2 bytes\nSession Number Short Read next 2 bytes\nLTP Hour Char Read next 1 byte\nLTP Minute Char Read next 1 byte\nLTP Second Char Read next 1 byte\nLTP Millisecond Char[3] Read next 3 bytes\nReserved Field Char[2] Read next 2 bytes\nReserved Field Short Read next 2 bytes\nReserved Field Long Read next 8 bytes\nLong\nNo of Price points Short Read next 2 bytes\nTimestamp Long Read next 8 bytes\nLong\nClose Rate Long Read next 4 bytes\nLast Trade Qty Long Read next 8 bytes and save as Qty base\nLong\n53\nBSE - CONFIDENTIAL"
    },
    {
      "page": 54,
      "text": "Direct NFCAST V 5.0\nLTP Long Read next 4 bytes and save as Rate base\nOpen Rate Long Read next 2 bytes and apply compression logic with base as LTP\nPrevious Close Rate Long Read next 2 bytes and apply compression logic with base as LTP\nHigh Rate Long Read next 2 bytes and apply compression logic with base as LTP\nLow Rate Long Read next 2 bytes and apply compression logic with base as LTP\nReserved Field Long Read next 2 bytes and apply compression logic with base as LTP\nIndicative Equilibrium Long Read next 2 bytes and apply compression logic with base as LTP\nPrice\nIndicative Equilibrium Long Read next 2 bytes and apply compression logic with base as LTQ\nQty Long\nTotal Bid Qty Long Read next 2 bytes and apply compression logic with base as LTQ\nLong\nTotal Offer Qty Long Read next 2 bytes and apply compression logic with base as LTQ\nLong\nLower Circuit Limit Long Read next 2 bytes and apply compression logic with base as LTP\nUpper Circuit Limit Long Read next 2 bytes and apply compression logic with base as LTP\nWeighted Average Long Read next 2 bytes and apply compression logic with base as LTP\nFollowing buy sub-structure will repeat number of times as specified in the “No. of Price points” field\nabove or the buy sub structure will terminate if the value 32766 encountered.\nBest Bid Rate Long Read next 2 bytes and apply compression logic with base as LTP.\nFor level 2 base is 1st level and so on\nTotal Bid Qty Long Read next 2 bytes and apply compression logic with base as LTQ.\nLong For level 2 base is 1st level and so on\nNo. of Bid at the Unsigne Read next 2 bytes and apply compression logic with base as LTQ.\nprice points d Long For level 2 base is 1st level and so on\nImplied Buy Quantity Long Read next 2 bytes and apply compression logic with base as LTQ.\nLong For level 2 base is 1st level and so on\nReserved Field Long Read next 2 bytes and apply compression logic with base as LTQ.\nFor level 2 base is 1st level and so on\nFollowing sell sub-structure will repeat number of times as specified in the “No. of Price points” field\nabove or the sell sub structure will terminate if the value -32766 encountered.\nBest Offer Rate Long Read next 2 bytes and apply compression logic with base as LTP.\nFor level 2 base is 1st level and so on\nTotal Offer Qty Long Read next 2 bytes and apply compression logic with base as LTQ.\nLong For level 2 base is 1st level and so on\nNo. of Ask at the price Unsigne Read next 2 bytes and apply compression logic with base as LTQ.\npoint d Long For level 2 base is 1st level and so on\nImplied Sell Quantity Long Read next 2 bytes and apply compression logic with base as LTQ.\nLong For level 2 base is 1st level and so on\nReserved Field Long Read next 2 bytes and apply compression logic with base as LTQ.\nFor level 2 base is 1st level and so on\n44: Multicast addresses and ports for the reference data snapshot fee\n54\nBSE - CONFIDENTIAL"
    },
    {
      "page": 55,
      "text": "Direct NFCAST V 5.0\n6 Appendix\n6.1 Index Code Mapping Table\nKindly refer Index Name file (INDEXDDMMYYYY.csv) provided by Exchange which contain Index Code\nand Index Name of all Indices disseminated real time by BSE. This file is made available on BSE website\nand extranet for download by EOD. For more details related file and format, kindly refer circular number\n20250411-7 dated 11th April 2025\n6.2 Product (Market Segment) Identifier in Master Files\nThe following table gives the master file names and different fields in each file which provides\ninformation about the product ID.\nSegment File name Field name and Position\nEquity SCRIP_ddmmyy.TXT Name: Partition ID and Product\nID\nPosition :5\nEquity Derivatives EQD_COddmmyy.csv, Name: Product ID\nEQD_SPD_COddmmyy.csv Position: 29\nCurrency Derivatives BFX_COddmmyy.csv, Name: Product ID\nBFX_SPD_COddmmyy.csv Position: 29\nCommodities Derivatives BCX_COddmmyy.csv Name: Product ID\nPosition: 29\n6.3 Price Precision Table\nSegment Price Precision Description\nEquity 2 decimals The value needs to be divided\nwith 100.\nEquity Derivatives 2 decimals The value needs to be divided\nwith 100.\nCurrency Derivatives 4 decimals The value needs to be divided\nwith 10000\nCommodities Derivatives 2 decimals The value needs to be divided\nwith 100.\n7 Change log.\nThis document has been through the following iterations:\n7.1 Changes compared to NFCAST with IML\nThis section is meant for application developers who are already using the NFCAST data via IML and\nwant to know the incremental changes that need to be done in their application to read Direct NFCAST.\n55\nBSE - CONFIDENTIAL"
    },
    {
      "page": 56,
      "text": "Direct NFCAST V 5.0\nThe section gives you details of changes and the section to refer to in the document without going\nthrough the entire document.\nSr. Description NFCAST through IML Direct NFCAST\nNo.\n1. Reading Mode In IML mostly the UDP is received by In BSE Direct NFCAST mode the\nbroadcast mode. The Receiver broadcast will be received in\napplication reads data from socket in multicast mode. Thus, the change is\nbroadcast mode required at receiving application end\nto read in multicast mode.\n2. Packet Header In broadcast via IML, every In BSE Direct NFCAST mode, the\nbroadcast packet has a 8 bytes member application should read\nheader consisting of: 2000 bytes of data in each read call.\n- 4 bytes for slot no. The first 4 byte will always be the\n- 4 bytes for message length message type.\n3. Swapping In broadcast via IML, the packet is In BSE Direct NFCAST mode, each\nread directly in little endian format. packet needs to be swapped from\nbig endian format to little endian\nformat.\n4. Compression There is no decompression required The member application needs to\nby member application for any decompress the following messages\nmessage only as per the decompression logic\nSpecified in Decompression section.\n- Market picture Message (2020,\n2021, 2033).\n`5. Market Picture There was no market picture In BSE Direct NFCAST, the market\nmessage [2021] message [2021] defined in IML API picture 2020 and 2021 will be sent\nhowever market picture message independently to member\n(Applicable for [2021] was sent from exchange to application.\nSpread contracts in IML and IML application used to The member application must read\nderivatives convert to market picture message message 2021 with 8 bytes scrip\nsegment) to 2020 format and forward to code field. The member application\nmember application. can either convert the 8 bytes scrip\ncode to 4 bytes as per mapping\nThe scrip code field in message 2021 provided in contract master file or it\nis 8 bytes field and contains 17-digit can continue to use the 8 bytes scrip\ncontract tokens applicable for spread code in their application.\ncontracts. The IML application\nconverts the 8 bytes scrip code to 4\nbytes scrip code based on mapping\nprovided in contract master file.\n6. Session Change The session broadcast message is There will not be any filters applied\nBroadcast (2002) sent product wise from exchange to so member application will receive\n56\nBSE - CONFIDENTIAL"
    },
    {
      "page": 57,
      "text": "Direct NFCAST V 5.0\nProduct state IML. The IML application however session broadcast messages for all\nchange message forwards only first 36 product wise the products. It can be in the range\nmessages. of 100 to 200 messages.\nEach product wise message can be\nconsidered as message for that\nproduct only ot it Can be treated at\nsession change at market level with\nfirst product message as well ( as it\nis done currently)\n7. Test Product Exchange hosts some test products The session broadcast for test\nSession change and instruments for internal testing, products will also be sent to the\nbroadcast (2002) and they are not published in master member applications. The member\nfiles. The session change broadcast application must ignore the session\nmessage for these products are sent broadcast message for these test\nevery day in the morning before the products.\nstart of the normal market. Such\nmessages are received by IML but The test products defined as of now\nare not forwarded to member are 11,149,150,829,830, 352 to 366.\napplication\n7.2 Changes compared to version 1\nSr. Section Description\nNo.\n1. 4.2.3 Market Picture Reserved Field 10 renamed as Block Deal Reference Price.\nBroadcast [2020 and 2021]\n2. 4.2.7 Index Change Message In this message, index values are disseminated via 2011 and 2012\n[2011 and 2012] messages. In these messages, under “Previous Index Close” field,\ncurrently previous close value of index is disseminated, and once\ncontinuous trading session is over, in the same field, today’s close\nprice of index is disseminated. Now, going ahead, indicative close\nvalue of S&P BSE SENSEX and S&P BSE BANKEX indices shall be\ndisseminated in the last 30 minutes of trading hours in Equity\nsegment (between 3:00 – 3:30pm).\nAdditionally, a Reserved Field 10 shall be renamed as “Index\nClose Value Indicator” in which new values are defined to give\nindicator about previous index close, today’s indicative close\nvalue and today’s index close values in “Previous Index close”\nfield.\nDirect NFCAST market data stream version v2.0 has been\nuploaded on www.bseindia.com/nta.aspx. Kindly refer the\nsame for more details.\n57\nBSE - CONFIDENTIAL"
    },
    {
      "page": 58,
      "text": "Direct NFCAST V 5.0\n7.3 Changes compared to version 2\nSr. Section Description\nNo.\n1. 4.6 Shortage Auction Session The message was published along with section 4.5 Product State\nChange Message [2003] change message. The message is now segregated as sperate\nmessage under this section.\n2 4.13 Limit Price Protection A new message is introduced to disseminate the dynamic range\nRange for acceptance of limit orders. The range is based on the LTP or\ntheoretical price and keeps changing with the change in LTP or\ntheoretical prices. This is currently applicable for equity\nderivatives segment.\nThe new message will be disseminated on a different multicast\nstream. Thus, the member applications desirous of using this\nmessage will need to subscribe to a different multicast channel to\nreceive this message.\nThe multicast IP and Port of Simulation market for LPP range\nmessage will be\nIP: 226.1.3.61\nPort: 11461\n3. 4.18 Implied Volatility A new message will be sent for the Derivatives instrument\navailable for trading in the Exchange. The broadcast will be sent\nfor traded contracts at the specific interval throughout the day.\n7.4 Changes compared to version 3\nSr. Section Description\nNo.\n1. 4.14 Call Auction For SPOS and Relisting securities operating in call auction mode, a\nnew message will be sent to communicate the quantity cancelled\nduring the auction period.\nThe message will communicate the cancelled quantity and no. of\norders involved in the cancelled count. The cancelled quantity\ncount will be cumulative count over the call auction order entry\nperiod.\n58\nBSE - CONFIDENTIAL"
    },
    {
      "page": 59,
      "text": "Direct NFCAST V 5.0\n7.5 Changes compared to version 4\nSr. Section Description\nNo.\n1. 4.8 Market Picture Broadcast 1.Data Type of following fields has been changed.\n[2020 and 2021]\nField Current Datatype New Datatype\nNo of Trades Long Unsigned Long\nTraded Volume Long Long Long\nTraded Value Long Long Long\nLTQ (Last Traded Long Long Long\nQuantity)\nIndicative Long Long Long\nEquilibrium\nQuantity\nTotal Bid Quantity Long Long Long\nTotal Offer Long Long Long\nQuantity\nPrice Point Substruture.\nTotal Bid Quantity Long Long Long\nNo. of Bid at the Long Unsigned Long\nprice points\nImplied Buy Long Long Long\nQuantity\nTotal Offer Qty Long Long Long\nNo. of Ask at the Long Unsigned Long\nprice point\nImplied Sell Long Long Long\nQuantity\n2. Reserved Field 11 added in Market Picture message of 8 Bytes.\n3. Reserved Field 12 and Reserved Field 13 added for buy and sell\nside of 4 byte each. This will repeat number of times as specified\nin the “No. of Price points” field.\n2 4.9 Auction Market Picture\nBroadcast [ 2017] Data Type of following fields has been changed.\nField Current Datatype New Datatype\nAuction Qty Long Long Long\n59\nBSE - CONFIDENTIAL"
    },
    {
      "page": 60,
      "text": "Direct NFCAST V 5.0\nCumulative Qty Long Long Long\nOffer Qty Long Long Long\n3 4.14 Call Auction cancelled Data Type of field Cancelled Buy Qty and Cancelled Sell Qty\nquantity message [2035] changed from Long to Long Long.\n4 4.16 Open Interest Message Data Type of field Open Interest Quantity changed from Long to\n[2015] Long Long.\n5 4.19 Implied Volatility [2028] Field description updated\n6 6.1 Index Code mapping table Table removed and description updated to refer file for Index\nCode & Index name for all indices disseminated real time.\n60\nBSE - CONFIDENTIAL"
    }
  ],
  "critical_pages": [
    {
      "page": 22,
      "text": "Direct NFCAST V 5.0\nApplicable Segment: All Compression: Yes\nField Name Type Description Values, meanings,\nValidations\nMessage Long Type of message\nType Value Description\n2020 Market\nPicture\n2021 Market Picture\n(Complex\nInstruments)\nReserved Long For Internal Use.\nField 1\nReserved Long For Internal Use.\nField 2\nReserved unsigned For Internal Use.\nField 3 short\nHour Short The hour part of time when the Hour\nmessage was sent from the\nexchange\nMinute Short The minute part of time when Minute\nthe message was sent from the\nexchange\nSecond Short The second part of time when Second\nthe message was sent from the\nexchange\nMillisecond Short The millisecond part of time Millisecond\nwhen the message was sent\nfrom the exchange\nReserved Short For Internal Use.\nField 4\nReserved Short For Internal Use.\nField 5\nNo of Short No. of market picture records This can have a maximum of 6\nRecords sent records\nThe following sub-structure will repeat no. of times as specified in the “No. of Records” field\nabove.\nInstrument Long Instrument code of the Instrument /contract code.\n/Contract or Instrument for which details are\nCode Long Long being sent. Datatype is to be treated as long\nfor message 2020 and long-long\nfor message type 2021\n22\nBSE - CONFIDENTIAL"
    },
    {
      "page": 23,
      "text": "Direct NFCAST V 5.0\nNo of Trades Unsigned Number of trades took place The cumulative no. of trades\nLong during the day for the during the day\nInstrument\nTraded Long Long Total traded quantity during the The cumulative no. of shares\nVolume day for the Instrument. traded during the day.\nTraded Long Long Total traded value during the The cumulative value traded\nValue day for the instrument. during the day. The value is\nalways disseminated in paise.\nThe Unit for this field will be\nprovided in field “Trade Value\nFlag” below. If the Flag is not set\nthen the absolute value should\nbe considered.\nTrade Value Char Unit for field “Traded Value” 'l' denotes lacs\nFlag ‘c’ denotes for crores\nReserved Char For Internal Use.\nField 6\nReserved Char For Internal Use.\nField 7\nReserved Char For Internal Use.\nField 8\nMarket Type Short The type of market Possible values for Market Type\nare\n20 – PCAS\n0 – All other market\nSession Short Possible values are\nNumber\nValue Description\n1 Call Auction Order\nEntry Start\n2 Call Auction\nMatching\n3 Continuous\n4 Closing\n5 Post-Closing\n10 SPOS Order Entry\n11 SPOS Matching\n23\nBSE - CONFIDENTIAL"
    },
    {
      "page": 24,
      "text": "Direct NFCAST V 5.0\nLTP Char The hour part of time when the Hour\nHour message was sent from the\nexchange\nLTP Char The minute part of time when Minute\nMinute the message was sent from the\nexchange\nLTP Char The second part of time when Second\nSecond the message was sent from the\nexchange\nLTP Char [3] The millisecond part of time Millisecond\nMillisecond when the message was sent\nfrom the exchange\nReserved Char [2] For Internal Use.\nField 9\nReserved Short For Internal Use.\nField 10\nReserved Long Long For Internal Use.\nField 11\nNo of Price Short Number of Price points in the Currently “n” = 5\npoints depth substructure below\nTimestamp Long Long Time at which the market data The time is in Julian format.\nwas generated at Exchange\nClose Rate Long Close price for the current For decimal precision refer\ntrading day. The field will be Price Precision Table\npopulated once close price for\nthe day is determined else it\nwould be 0\nLTQ (Last Long Long Quantity which got executed in The total quantity traded in the\nTraded the last trade last trade.\nQuantity)\nLTP Long Price at which last trade took For decimal precision refer\n(Last Traded place. Price Precision Table\nPrice)\nOpen Rate Long Opening rate of the Instrument. For decimal precision refer\nPrice Precision Table\nPrevious Long Previous trading day closing For decimal precision refer\nClose Rate rate of the Instrument. Price Precision Table\nHigh Rate Long Highest traded rate of the For decimal precision refer\nInstrument Price Precision Table\n24\nBSE - CONFIDENTIAL"
    },
    {
      "page": 25,
      "text": "Direct NFCAST V 5.0\nLow Rate Long Lowest traded rate of the For decimal precision refer\nInstrument Price Precision Table\nBlock Deal Long The reference price to be used\nReference for block deal orders.\nPrice\nIndicative Long The tentative equilibrium price For decimal precision refer\nEquilibrium determined during the order Price Precision Table\nPrice entry session of call auction.\nApplicable for equity segment\ninstruments only.\nThe field will be populated in\norder entry session if tentative\nequilibrium price is established\nelse it would be 0.\nIndicative Long Long The tentative match able Applicable for equity segment\nEquilibrium quantity determined during the instruments only.\nQuantity order entry session of call\nauction The field will be populated in\norder entry session if tentative\nequilibrium price is established\nelse it would be 0.\nTotal Bid Long Long Total Buy Quantity present in Total quantity present in the buy\nQuantity order book across all the price order book\npoints.\nTotal Offer Long Long Total Sell Quantity present in Total quantity present in the sell\nQuantity order book across all the price order book\npoints.\nLower Circuit Long Lower Price band for The lowest rate at which order\nLimit Instrument/ Contract can be placed during the day.\nUpper Circuit Long Upper Price band for The highest rate at which order\nLimit Instrument/Contract can be placed during the day.\nWeighted Long Weighted Average traded rate For decimal precision refer\nAverage price for Instrument Price Precision Table\nFollowing sub-structure will repeat number of times as specified in the “No. of Price points”\nfield above.\n25\nBSE - CONFIDENTIAL"
    },
    {
      "page": 26,
      "text": "Direct NFCAST V 5.0\nBest Bid Rate Long Best bid rate in the order book For decimal precision refer\nPrice Precision Table\nTotal Bid Long Long Total quantity available at best In case of equity derivatives and\nQuantity bid rate. currency derivatives the total\nquantity will include the implied\nquantity if it is available.\nTotal Bid Qty = Actual Order qty\n+ Implied Quantity\nThe implied quantity is\napplicable for the best price\npoint only.\nNo. of Bid at Unsigned No. of Orders at the Buy Price It will always show the number\nthe price Long point of actual orders in the order\npoints book. It will not consider the\norders contributing towards\nimplied price.\nIt will be 0 in case only implied\nquantity is available at the best\nprice point.\nImplied Buy Long Long The quantity implied at the best\nQuantity price point of this contract due If only implied quantity is\nto orders in other related available at the best price point,\ncontracts. then total quantity field and\nimplied quantity field will be\nsame.\nIf no implied quantity is available\nat the best price point, then\nimplied quantity field will be 0.\nReserved Long For Internal Use\nField 12\nBest Offer Long Best offer rate For decimal precision refer\nRate Price Precision Table\n26\nBSE - CONFIDENTIAL"
    },
    {
      "page": 27,
      "text": "Direct NFCAST V 5.0\nTotal Offer Long Long Total quantity available at best In case of equity derivatives and\nQty offer rate currency derivatives the total\nquantity will include the implied\nquantity if it is available.\nTotal Offer Qty = Actual Order\nqty + Implied Quantity\nThe implied quantity is\napplicable for the best price\npoint only.\nNo. of Ask at Unsigned No. of Orders at the Sell Price It will always show the number\nthe price Long point of direct orders in the order\npoint book. It will not consider the\norders contributing towards\nimplied price.\nIt will be 0 if only implied\nquantity is available at the best\nprice point.\nImplied Sell Long Long The quantity implied at the best The implied quantity is\nQuantity price point of this contract due applicable for the best price\nto orders in other related point only.\ncontracts.\nIf only implied quantity is\navailable at the best price point,\nthen total quantity field and\nimplied quantity field will be\nsame.\nIf no implied quantity is available\nat the best price point, then\nimplied quantity field will be 0.\nReserved Long For Internal Use.\nField 13\n27\nBSE - CONFIDENTIAL"
    },
    {
      "page": 48,
      "text": "Direct NFCAST V 5.0\nmessage was sent from the\nexchange\nMinute Short The minute part of time when\nthe message was sent from the\nexchange\nSecond Short The second part of time when\nthe message was sent from the\nexchange\nMillisecond Short The millisecond part of time\nwhen the message was sent\nfrom the exchange\nReserved Field 4 Short\nReserved Field 5 Short For Internal Use\nNo. Of Records Short Number of records Indicates the number of times\nthe following sub structure will\nrepeat. Max 13\nThe following sub-structure will repeat no. of times as specified in the “No. of Records” field\nabove.\nInstrument Id of the\nInstrument Id Long Instrument\nTo display Implied Volatility (IV)\nin percentage term. The value\nneeds to be multiplied by 100\nImplied Volatility Long Long rounded up to 2 decimals\nReserved Field 6 Long Long\nReserved Field 7 Long Long\nReserved Field 8 Long Long\nReserved Field 9 Long Long\nReserved Field 10 Long Long\nReserved Field 11 Long Long\nReserved Field 12 Long For Internal Use\nReserved Field 13 Short For Internal Use\nReserved Field 14 Short For Internal Use\nReserved Field 15 Char For Internal Use\nReserved Field 16 Char For Internal Use\nReserved Field 17 Char[2] For Internal Use\n5 Decompression of Market Depth Message\nBSE applies the compression only on market picture messages viz Message type 2020 and 2021 only. All\nother market data messages can be read from the socket directly as per the structure defined in API.\nThe compression principle used is proprietary.\n48\nBSE - CONFIDENTIAL"
    },
    {
      "page": 49,
      "text": "Direct NFCAST V 5.0\nIn case of market picture message, the entire market picture message is not sent in compressed format.\nFor each record present in the market picture packet, the compression starts with the open rate field\nand ends with the last field for that record. All data points from open rates onwards are in compressed\nformat. The decompression logic is detailed with an example in section Example for full market picture\nreading\nIt is suggested that the user should read 2000 bytes of data by default in a single read call. This single\nread call will get single packet only. The first 4 bytes will convey the message type and depending upon\nthe message type the user should process the required messages or drop the message if not required.\nSince the size of market picture message cannot be ascertained due to compression logic, the market\npicture message needs to be read byte by byte. It cannot be mapped to the structure directly as defined\nin the API.\nBinary values are presented in big-endian byte order, so the TPS application needs to convert it to little-\nendian byte order.\n✓ Big-Endian means that the most significant byte of any multibyte data field is stored at the\nlowest memory address, which is also the address of the larger field.\n✓ Little-Endian means that the least significant byte of any multibyte data field is stored at the\nlowest memory address, which is also the address of the larger field.\n5.1 Compression Principle\nThe idea used in compression is that rate fields in the structure are defined as long (4 bytes) however\nsince all the prices for an instrument usually operates in nearby range thus instead of using 4 bytes for\neach price, if differential value with respect to a base price is sent then the differential value would\ngenerally be no exceeding 2 bytes capacity. Thus 2 bytes on each price field can be saved. Similar is the\nidea behind the quantity related field in the structure.\n5.2 Decompression Mechanism\nFor decompression 2 fields are marked as base fields. One base field (LTP) is used for price and the other\nbase field (LTQ) is used for Quantity. All the compressed fields contain the difference value with respect\nto base fields in 2 bytes. The user needs to add this 2-byte field value with the base field value to arrive\nthe actual value of the next filed.\nIn case the difference value exceeds 2 bytes then the actual value is sent in next 4 bytes. So, for all\ncompressed fields the user needs to read 2 bytes first then depending upon the value in the 2 bytes field\nthe user needs to decide what to do next.\nIf the 2 bytes field value is 32767 the user needs to read the next 4 bytes to have the actual value as the\ndiff value exceeds 2 bytes. The logic is explained in detail with an example in the example section\nExample for full market picture packet reading\n5.3 Decompression Mechanism for Best 5 substructure\nIn case of best 5 structures, 3 additional aspects are covered in decompression mechanism\n5.4 Reading Sequence\nThe best 5 structure needs to be read for buy side and sell side independently i.e. the best 5 Bid\nstructure is read first followed by best 5 offer structure.\nRead 5 Best Bid Fields in the following order i.e.\n49\nBSE - CONFIDENTIAL"
    },
    {
      "page": 50,
      "text": "Direct NFCAST V 5.0\n✓ Best Bid Rate1, Total Bid Qty1, No. of Bid at the price points1, Implied Buy Quantity 1\n✓ Best Bid Rate2, Total Bid Qty2, No. of Bid at the price points2, Implied Buy Quantity 2\n✓ Best Bid Rate3, Total Bid Qty3, No. of Bid at the price points3, Implied Buy Quantity 3\n✓ Best Bid Rate4, Total Bid Qty4, No. of Bid at the price points4, Implied Buy Quantity 4\n✓ Best Bid Rate5, Total Bid Qty5, No. of Bid at the price points5, Implied Buy Quantity 5\nOnce 5 Best Bid Fields completed then start reading the 5 Best Offer Fields in similar order.\n5.5 Decompression logic\nThe general decompression mechanism mentioned above holds true for best 5 structures also.\nAdditionally, the base fields are used to decompress best 5 structure changes with each level.\nThe base field used for different levels is different i.e. for e.g. the base fields used in level 1 are different\nthan base fields used in level 2.\nFor each level the base fields are previous level field values. The table below provides the base filed\nused in each level for the buy side best 5 structures.\nLevel 1 Best Bid 1 Best Bid Qty 1 No of orders 1 Implied Buy Qty 1\nBase LTP LTQ LTQ LTQ\nLevel 2 Best Bid 2 Best Bid Qty 2 No of orders 2 Implied Buy Qty 2\nBase Best Bid 1 Best Bid Qty 1 No of orders 1 Implied Buy Qty 1\nLevel 3 Best Bid 3 Best Bid Qty 3 No of orders 3 Implied Buy Qty 3\nBase Best Bid 2 Best Bid Qty 2 No of orders 2 Implied Buy Qty 2\nLevel 4 Best Bid 4 Best Bid Qty 4 No of orders 4 Implied Buy Qty 4\nBase Best Bid 3 Best Bid Qty 3 No of orders 3 Implied Buy Qty 3\nLevel 5 Best Bid 5 Best Bid Qty 5 No of orders 5 Implied Buy Qty 5\nBase Best Bid 4 Best Bid Qty 4 No of orders 4 Implied Buy Qty 4\nSimilar is the decompression logic for the sell side best 5 structures.\n5.6 Handling condition when no orders present at a price point\nIn the best 5 structure, it is possible that the orders may not be present on all 5 price points thus the\nprice points where there are no orders are present are not sent in the structure. Thus, during\ndecompression of the best 5 substructure, additionally following logic needs to be also applied.\nIf while reading the 5 Best Bid Fields if any Best Bid Rate is equals to 32766 then the remaining Best Bid\nFields will not be present so 32766 indicates there are no more buy price points available in the book.\nSimilarly, while reading the 5 Best Offer Fields if any Best Offer Rate is equals to -32766 then the\nremaining 5 Best Offer Fields will not be present.\n5.7 Repetition of Instruments\nOnce the compression of the first instrument is completed the user needs to know the number of bytes\nhe has read. Let’s assume after the first instrument the number of bytes read as 160.\nSo, the user needs to start reading 4 bytes from 160 bytes to get instrument code. Read the next 4 bytes\nfor number of trades and continue till compression starts. Store the base values in memory for the\nsecond instrument. Then apply the compression logic.\n50\nBSE - CONFIDENTIAL"
    },
    {
      "page": 51,
      "text": "Direct NFCAST V 5.0\n5.8 Summary of decompression mechanism\n✓ Identify the base values.\n✓ Store the base values in memory.\n✓ Read next 2 bytes and add the value to the base value to get final value.\n✓ If value is 32767 means diff value is exceeded, thus read next 4 bytes to have the actual\nvalue.\nFor Best 5 structure Read 2 bytes\n✓ If value is 32767 means diff value is exceeded, thus read next 4 bytes to have the actual\nvalue.\n✓ If value is 32766 or -32766 means end of best bid or best offer.\n✓ The base value for level 1 is LTP and LTQ\n✓ The base value for all subsequent level (level n) is its previous level (level n-1\n5.9 Example of Decompression Logic\nFollowing are 3 examples explaining the decompression logic for the market picture message.\n5.9.1 Example for General Decompression Mechanism\nLet’s say base field for Rate is Last Traded Rate and its value is 1000. Open Rate as 500 and Previous\nClose Rate as 40000 and High Rate as 1000.\nField Compressed/ Base Value Byte Action\nLast Traded Rate Base 1000 4 Read 4 bytes to get 1000 and store it in memory\nOpen Rate Compressed -500 2 Read next 2 bytes to get -500 and apply it to LTR\nto get the final value as 500.\nPrevious Close Compressed 32767 2 Read 2 bytes to get 32767 and this value is an\nRate indicator that diff value exceeds 2 bytes\n40000 4 Read next 4 bytes to have the actual value\n40000. No need to apply base value.\nHigh Rate Compressed 0 2 Read next 2 bytes to get 0 and apply it to LTR to\nget the final value as 1000.\n5.9.2 Example for Best 5 structure decompression mechanism.\nFor example, for an instrument only one bid rate and no offer rate are available as below.\nBest Bid Rate1 as 1000, Total Bid Qty1=25, No. of Bid at the price points1= 5, Implied Buy Qty=0 and no\nOffer Rate\nBase LTP is 1000 and Base LTQ is 10\nField Compressed/ Base Value Byte Action\n51\nBSE - CONFIDENTIAL"
    },
    {
      "page": 52,
      "text": "Direct NFCAST V 5.0\nLast Traded Rate Base 1000 4 Assume already available in memory\nLast Traded Base 10 4 Assume already available in memory\nQuantity\nBest Bid Rate1 Compressed 0 2 Read next 2 bytes to get 0 and apply it to LTR\nto get the final value as 1000.\nTotal Bid Qty1 Compressed 15 2 Read next 2 bytes to get 15 and apply it to LTQ\nto get the final value as 25.\nBid at the price Compressed -5 2 Read next 2 bytes to get -5 and apply it to LTQ\npoints1 to get the final value as 5.\nImplied Buy Compressed -10 2 Read next 2 bytes to get -10 and apply it to\nQuantity 1 LTQ to get the final value as 0.\nBest Bid Rate2 Compressed 32766 2 Read next 2 bytes to get 32766 indicates end\nof Best bid [Not available]\nTotal Bid Qty2 Compressed NA 0 Not Available\nBid at the price Compressed NA 0 Not Available\npoints2\nImplied Buy Compressed NA 0 Not Available\nQuantity 2\nBest Bid Rate3 Compressed NA 0 Not Available\nTotal Bid Qty3 Compressed NA 0 Not Available\nBid at the price Compressed NA 0 Not Available\npoints3\nImplied Buy Compressed NA 0 Not Available\nQuantity 3\nBest Bid Rate4 Compressed NA 0 Not Available\nTotal Bid Qty4 Compressed NA 0 Not Available\nBid at the price Compressed NA 0 Not Available\npoints4\nImplied Buy Compressed NA 0 Not Available\nQuantity 4\nBest Bid Rate5 Compressed NA 0 Not Available\nTotal Bid Qty5 Compressed NA 0 Not Available\nBid at the price Compressed NA 0 Not Available\npoints5\nImplied Buy Compressed NA 0 Not Available\nQuantity 5\nBest Offer Rate1 Compressed -32766 2 Read next 2 bytes to get -32766 indicates end\nof Best offer [Not available]\nTotal Offer Qty1 Compressed NA 0 Not Available\nOffer at the price Compressed NA 0 Not Available\npoints1\nImplied Sell Compressed NA 0 Not Available\nQuantity 1\n52\nBSE - CONFIDENTIAL"
    },
    {
      "page": 53,
      "text": "Direct NFCAST V 5.0\n5.9.3 Example for full market picture packet reading\nField Name Type Action\nMessage Type Long Read 4 bytes\nReserved Field Long Read next 4 bytes\nReserved Field Long Read next 4 bytes\nReserved Field unsigne Read next 2 bytes\nd short\nHour Short Read next 2 bytes\nMinute Short Read next 2 bytes\nSecond Short Read next 2 bytes\nMillisecond Short Read next 2 bytes\nReserved Field Short Read next 2 bytes\nReserved Field Short Read next 2 bytes\nNo of Records Short Read next 2 bytes\nFollowing is a market picture structure appearing repeatedly (Max 5 times)\nInstrument Code Long Read next 4 bytes for message 2020 / 8 bytes for 2021\nNo of Trades Unsigne Read next 4 bytes\nd Long\nVolume Long Read next 8 bytes\nLong\nValue Long Read next 8 bytes\nLong\nTrade Value Flag Char Read next 1 byte\nTrend Char Read next 1 byte\nSix Lakh Flag Char Read next 1 byte\nReserved Field Char Read next 1 byte\nMarket Type Short Read next 2 bytes\nSession Number Short Read next 2 bytes\nLTP Hour Char Read next 1 byte\nLTP Minute Char Read next 1 byte\nLTP Second Char Read next 1 byte\nLTP Millisecond Char[3] Read next 3 bytes\nReserved Field Char[2] Read next 2 bytes\nReserved Field Short Read next 2 bytes\nReserved Field Long Read next 8 bytes\nLong\nNo of Price points Short Read next 2 bytes\nTimestamp Long Read next 8 bytes\nLong\nClose Rate Long Read next 4 bytes\nLast Trade Qty Long Read next 8 bytes and save as Qty base\nLong\n53\nBSE - CONFIDENTIAL"
    },
    {
      "page": 54,
      "text": "Direct NFCAST V 5.0\nLTP Long Read next 4 bytes and save as Rate base\nOpen Rate Long Read next 2 bytes and apply compression logic with base as LTP\nPrevious Close Rate Long Read next 2 bytes and apply compression logic with base as LTP\nHigh Rate Long Read next 2 bytes and apply compression logic with base as LTP\nLow Rate Long Read next 2 bytes and apply compression logic with base as LTP\nReserved Field Long Read next 2 bytes and apply compression logic with base as LTP\nIndicative Equilibrium Long Read next 2 bytes and apply compression logic with base as LTP\nPrice\nIndicative Equilibrium Long Read next 2 bytes and apply compression logic with base as LTQ\nQty Long\nTotal Bid Qty Long Read next 2 bytes and apply compression logic with base as LTQ\nLong\nTotal Offer Qty Long Read next 2 bytes and apply compression logic with base as LTQ\nLong\nLower Circuit Limit Long Read next 2 bytes and apply compression logic with base as LTP\nUpper Circuit Limit Long Read next 2 bytes and apply compression logic with base as LTP\nWeighted Average Long Read next 2 bytes and apply compression logic with base as LTP\nFollowing buy sub-structure will repeat number of times as specified in the “No. of Price points” field\nabove or the buy sub structure will terminate if the value 32766 encountered.\nBest Bid Rate Long Read next 2 bytes and apply compression logic with base as LTP.\nFor level 2 base is 1st level and so on\nTotal Bid Qty Long Read next 2 bytes and apply compression logic with base as LTQ.\nLong For level 2 base is 1st level and so on\nNo. of Bid at the Unsigne Read next 2 bytes and apply compression logic with base as LTQ.\nprice points d Long For level 2 base is 1st level and so on\nImplied Buy Quantity Long Read next 2 bytes and apply compression logic with base as LTQ.\nLong For level 2 base is 1st level and so on\nReserved Field Long Read next 2 bytes and apply compression logic with base as LTQ.\nFor level 2 base is 1st level and so on\nFollowing sell sub-structure will repeat number of times as specified in the “No. of Price points” field\nabove or the sell sub structure will terminate if the value -32766 encountered.\nBest Offer Rate Long Read next 2 bytes and apply compression logic with base as LTP.\nFor level 2 base is 1st level and so on\nTotal Offer Qty Long Read next 2 bytes and apply compression logic with base as LTQ.\nLong For level 2 base is 1st level and so on\nNo. of Ask at the price Unsigne Read next 2 bytes and apply compression logic with base as LTQ.\npoint d Long For level 2 base is 1st level and so on\nImplied Sell Quantity Long Read next 2 bytes and apply compression logic with base as LTQ.\nLong For level 2 base is 1st level and so on\nReserved Field Long Read next 2 bytes and apply compression logic with base as LTQ.\nFor level 2 base is 1st level and so on\n44: Multicast addresses and ports for the reference data snapshot fee\n54\nBSE - CONFIDENTIAL"
    },
    {
      "page": 55,
      "text": "Direct NFCAST V 5.0\n6 Appendix\n6.1 Index Code Mapping Table\nKindly refer Index Name file (INDEXDDMMYYYY.csv) provided by Exchange which contain Index Code\nand Index Name of all Indices disseminated real time by BSE. This file is made available on BSE website\nand extranet for download by EOD. For more details related file and format, kindly refer circular number\n20250411-7 dated 11th April 2025\n6.2 Product (Market Segment) Identifier in Master Files\nThe following table gives the master file names and different fields in each file which provides\ninformation about the product ID.\nSegment File name Field name and Position\nEquity SCRIP_ddmmyy.TXT Name: Partition ID and Product\nID\nPosition :5\nEquity Derivatives EQD_COddmmyy.csv, Name: Product ID\nEQD_SPD_COddmmyy.csv Position: 29\nCurrency Derivatives BFX_COddmmyy.csv, Name: Product ID\nBFX_SPD_COddmmyy.csv Position: 29\nCommodities Derivatives BCX_COddmmyy.csv Name: Product ID\nPosition: 29\n6.3 Price Precision Table\nSegment Price Precision Description\nEquity 2 decimals The value needs to be divided\nwith 100.\nEquity Derivatives 2 decimals The value needs to be divided\nwith 100.\nCurrency Derivatives 4 decimals The value needs to be divided\nwith 10000\nCommodities Derivatives 2 decimals The value needs to be divided\nwith 100.\n7 Change log.\nThis document has been through the following iterations:\n7.1 Changes compared to NFCAST with IML\nThis section is meant for application developers who are already using the NFCAST data via IML and\nwant to know the incremental changes that need to be done in their application to read Direct NFCAST.\n55\nBSE - CONFIDENTIAL"
    }
  ],
  "key_sections": {
    "message_types": [
      2,
      3,
      7,
      8,
      15,
      18,
      19,
      20,
      21,
      22,
      42,
      47,
      48,
      49,
      53,
      56,
      57,
      59
    ],
    "compression": [
      2,
      3,
      8,
      9,
      15,
      16,
      17,
      18,
      19,
      20,
      21,
      22,
      28,
      30,
      32,
      37,
      39,
      41,
      42,
      43,
      45,
      46,
      47,
      48,
      49,
      50,
      51,
      52,
      54,
      56
    ],
    "packet_structure": [
      2,
      3,
      4,
      5,
      6,
      7,
      8,
      9,
      10,
      13,
      14,
      15,
      16,
      17,
      18,
      19,
      20,
      21,
      22,
      23,
      24,
      25,
      26,
      27,
      28,
      29,
      30,
      31,
      32,
      33,
      34,
      35,
      36,
      37,
      38,
      39,
      40,
      41,
      42,
      43,
      44,
      45,
      46,
      47,
      48,
      49,
      50,
      51,
      53,
      54,
      55,
      56,
      57,
      59,
      60
    ],
    "multicast_groups": [
      4,
      7,
      8,
      9,
      15,
      37,
      45,
      54,
      56,
      58
    ],
    "authentication": [
      56
    ],
    "error_handling": []
  }
}