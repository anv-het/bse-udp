--- PAGE 1 ---

BSE
The Power of Vibrance

BSE Direct NFCAST
Manual

Version 5.0
Date: May 28, 2025

--- PAGE 2 ---

Direct NFCAST
V 5.0

Contents

1    Introduction                                      4
1.1  Purpose of this document                          4
1.2  Main audience                                     4
1.3  Data feeds                                        4
2    Overview of the Direct NFCAST Interface           7
2.1  Infrastructure requirements                       7
2.2  Overview of the various message types             7
2.3  Service Messages                                  7
2.4  Data Messages                                     7
2.5  What is not included in these interfaces          8
2.6  Freedom of choice                                 8
2.7  Structure of Messages                             8
2.8  Compression                                       8
2.9  Recovery                                          9
3    Trading states for a sample business day          10
3.1  Product type: Pre-open                            10
3.2  Product type: Special Pre-open (SPOS)             11
3.3  Product type: Periodic Call Auction (PCAS)        11
3.4  Product type: Continuous                          12
3.5  Market Halt                                       13
3.6  Block Deal Session                                14
3.7  Fine tuning client applications                   15
3.8  Buffer size                                       15
3.9  Packet and message processing                     15
4    Detailed data feed description and layout         16
4.1  Service messages                                  16
4.2  Time Broadcast Message [2001]                     16
4.3  Auction Keep Alive Message [2030]                 17
4.4  Market data messages                              17
4.5  Product State Change Message [2002]               17
4.6  Shortage Auction Session Change Message [2003]    19
4.7  News Headline [2004]                              20

2
BSE-CONFIDENTIAL

--- PAGE 3 ---

Direct NFCAST
V 5.0

4.8   Market Picture Broadcast [2020 and 2021]        21
4.9   Auction Market Picture Broadcast [2017]         28
4.10  Odd-lot Market Picture Messages [2027]          30
4.11  Debt Market Picture [2033]                      32
4.12  Index Change Message [2011 and 2012]            37
4.13  Limit Price Protection Range [2034]             39
4.14  Call Auction cancelled quantity message [2035]  41
4.15  Close Price [2014]                              42
4.16  Open Interest Message [2015]                    43
4.17  VaR Percentage [2016]                           45
4.18  RBI Reference Rate [2022]                       46
4.19  Implied Volatility [2028]                       47
5     Decompression of Market Depth Message           48
5.1   Compression Principle                           49
5.2   Decompression Mechanism                         49
5.3   Decompression Mechanism for Best 5 substructure 49
5.4   Reading Sequence                                49
5.5   Decompression logic                             50
5.6   Handling condition when no orders present at a price point 50
5.7   Repetition of Instruments                       50
5.8   Summary of decompression mechanism              51
5.9   Example of Decompression Logic                  51
5.9.1 Example for General Decompression Mechanism     51
5.9.2 Example for Best 5 structure decompression mechanism 51
5.9.3 Example for full market picture packet reading  53
6     Appendix                                        55
6.1   Index Code Mapping Table                        55
6.2   Product (Market Segment) Identifier in Master Files 55
6.3   Price Precision Table                           55
7     Change log                                      55
7.1   Changes compared to NFCAST with IML             55
7.2   Changes compared to version 1                   57
7.3   Changes compared to version 2                   58
7.4   Changes compared to version 3                   58
7.5   Changes compared to version 4                   59

3
BSE-CONFIDENTIAL

--- PAGE 4 ---

Direct NFCAST
V 5.0

1 Introduction

BSE offers public market data as part of the BSE Exchange's new trading architecture. The interfaces distribute information via UDP multicast. The Direct NFCAST Interface (netted) interface is designed for participants who do not need to see every order book update, this has the advantage of keeping the infrastructure costs low. The updates of the order book are sent at regular intervals; they are not provided for every order book change and are sent significantly less frequently than the other feeds. This interface aggregates the order book changes over a specified time interval. Currently, BSE plans to provide market data with a netting interval of 0.80 sec and depth of 5. Only statistical information is provided for on-exchange trades as well as the price and quantity of the last on-exchange trade in the netting interval.

The Direct NFCAST provides the following information to the participant:
- Price level aggregated order book depth and on-exchange trade statistics.
- Product state change message.
- Index message.
- Miscellaneous messages.

1.1 Purpose of this document
The purpose of this document is to provide guidance for programmers during development of applications that read the BSE Market Data Interface. It covers a complete reference for market data interface, describes the general business behaviour and provides concepts for the implementation.
The most recent version is available at: www.bseindia.com/nta.aspx

1.2 Main audience
The target audience of this interface specification is experienced software developers support staff that may be involved in development/support activities for the BSE Market Data Interfaces. Prior knowledge of developing for a capital market is beneficial but not a prerequisite. Knowledge in a programming language is expected.

1.3 Data feeds
BSE supports multiple market data interfaces with each having its unique characteristics. Though this document describes the Direct NFCAST interface in detail, a brief overview of other market data streams is provided here for better understanding the difference between various streams.

4
BSE-CONFIDENTIAL

--- PAGE 5 ---

Direct NFCAST
V 5.0

| Area                | EOBI                                                                                                                                                                                                                                         | EMDI                                                                                                                                                                                                                                                    | MDI                                                                                                                                                                                                    | Direct NFCAST                                                                                                                                                                                        |
|---------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Stream Description  | The Enhanced Order Book Interface (un-netted) disseminates every order book change for the entire book and all on-exchange trades without netting.                                                                                             | The Enhanced Market Data Interface (un-netted) disseminates every order book change up to the configured depth and all on-exchange trades without netting.                                                                                                | The Market Data Interface (netted) has a lower bandwidth requirement compared to the un-netted version.                                                                                              | The Direct NFCAST Interface (netted) has a lower bandwidth requirement compared to the un-netted version.                                                                                          |
|                     | This interface is designed for participants that rely on low-latency order book updates and data completeness. The un-netted market data is partitioned over several channels; each channel provides information about a group of similar products. As the market becomes busier, the number of messages (and therefore bandwidth usage) increases. | This interface is designed for participants that rely on low-latency order book updates and data completeness. The un-netted market data is partitioned over several channels; each channel provides information about a group of similar products. As the market becomes busier, the number of messages (and therefore bandwidth usage) increases. | This interface is designed for participants who do not need to see every order book update, this has the advantage of keeping the infrastructure costs low. Snapshot and incremental updates are sent via the same channel This interface aggregates the order book changes over a specified time interval. | This interface is designed for participants who do not need to see every order book update, this has the advantage of keeping the infrastructure costs low. Only Snapshot updates are sent in this stream. The interface aggregates the order book changes over a specified interval of time. |

5
BSE-CONFIDENTIAL

--- PAGE 6 ---

Direct NFCAST
V 5.0

| In-band/Out-of-band delivery | Incremental and snapshots are delivered via different channels, i.e. out-of-band delivery. Snapshots might contain new information. A flag (RefreshIndicator) within the snapshot indicates whether it has to be applied or not. Snapshots are needed only for start-up/recovery. | Incremental and snapshots are delivered via different channels, i.e. out-of-band delivery. In the snapshot feed provides a link between incremental and snapshot feed, as it carries the sequence number of the last message sent on the incremental feed. Snapshots are needed only for start-up/recovery. | Incremental and snapshots are delivered on the same channel, i.e. in-band delivery. | Only Snapshot are delivered on the channel. Each snapshot will be complete in nature. Snapshot will always have some new information and must be applied on order book. |
|------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Sequence numbers on message level | LastMsgSeqNumProcessed. In the snapshot feed provides a link between incremental and snapshot feed, as it carries the sequence number of the last message sent on the incremental feed. | LastMsgSeqNumProcessed is not used. Messages on the market data incremental feed have their own sequence number range per product; MsgSeqNum's exist on the depth incremental feed only. | LastMsgSeqNumProcessed. Messages on the combined market data incremental + snapshot feed have one sequence number range per product. | There is no product or stream specific sequence number. Every snapshot will have complete information. |
| Trade Volume Reporting       | Trade Volume Reporting is provided. Each on-exchange trade is reported individually.                                                                                                                                              | Trade Volume Reporting is provided. Each on-exchange trade is reported individually.                                                                                                                                                                            | Trade Volume Reporting is provided. Statistical information (daily high/low price and total traded quantity) and last trade information is provided. | Trade Volume Reporting is provided. Statistical information (daily high/low price and total traded quantity) and last trade information is provided. |

6
BSE-CONFIDENTIAL

--- PAGE 7 ---

Direct NFCAST
V 5.0

2 Overview of the Direct NFCAST Interface

This chapter describes the Direct NFCAST Interface in brief. It provides the overview of the peculiar characteristics of this market data stream.

2.1 Infrastructure requirements
The BSE Direct NFCAST market data interfaces disseminate market data over the BSE multicast network. A router which is capable of handling IP multicast is required for accessing this inter-face. The multicast management protocol is IGMPv2. When utilizing IGMPv3, the IGMPv2 compatibility mode must be enabled.

2.2 Overview of the various message types
There are many functional messages and technical messages delivered in this interface. The various message types can be divided into "Service Messages" and "Data Messages". The Service Messages are technical in nature and are not associated with any product or instrument. The Data Messages are functional in nature and are always related to products or instrument.

2.3 Service Messages
- Time broadcast message is sent out periodically by the BSE system on multicast address. The current periodicity is one minute.
- Auction keep alive message is network related message. It is used to keep spanning tree alive for the auction related broadcast messages.

2.4 Data Messages
- Market picture message is used to send a snapshot of 5 price levels of the order book and statistical information about on-exchange trades.
- Product state change message (Session Broadcast) is used to publish the state of the BSE products.
- Index change message is used to publish the indices current values and day's high, low open and close values. The message is sent periodically at a defined interval.
- Auction market picture message is used to send snapshot of 5 price level of auction order book. The auction here refers to defaulter auction or shortage auction and thus the order book contains only the sell price levels.
- Close price message is used to send the close price for all instruments in the closing session and at start of the day.
- Open Interest message is used to send the open interest in the market for derivatives contracts.
- RBI Reference Rate is used to send the Reference rate for USD published by RBI.

7
BSE-CONFIDENTIAL

--- PAGE 8 ---

Direct NFCAST
V 5.0

- VaR Percentage Message is used to send the approximate applicable margin percentage for the trade.

A detailed description of the message types listed above is given in section Detailed data feed description and layout.

2.5 What is not included in these interfaces.
The following information is not provided via the new interface:
- In case of derivatives contracts, the prices for underlying are not provided. These prices will be available in multicast form in the multicast stream of the respective segment.
- Implied prices are only sent for Best Market, they are not sent for the order book depth except for top of book.

2.6 Freedom of choice
BSE does not need to provide any software for accessing the services offered. The BSE market data interfaces can be accessed using any platform capable of receiving multicast data feeds. Participants can use any operating system, compiler version or programming language to develop or use specific third-party applications that are tailored to their requirements.

2.7 Structure of Messages
The market data interfaces disseminate data in UDP datagram in network byte order also known as big endian byte order.
A UDP datagram has the following structure:

Figure 1: Structure of a UDP datagram
[ MESSAGE TYPE ]
[ MESSAGE      ]

The UDP datagram starts with message type followed by the actual message (Message). One packet will always have one message only.
Each message shown in the picture above has the following sub structure:
- Message Type (Template ID) - a unique identifier for each message type which is sent by BSE
- Data Part (Message) - the actual message as per the structure defined in API.

Due to the unreliable nature of UDP, every UDP datagram is self-contained; there is no dependency across datagram.

2.8 Compression
BSE adopts native compression to reduce the packet size over the wire. The compression is applied on specific messages only. The entire message is not compressed. The compression is applied on frequently changing price and quantity fields.

8
BSE-CONFIDENTIAL

--- PAGE 9 ---

Direct NFCAST
V 5.0

The client application must apply the decompression logic on specific messages only while other messages can be read directly as per the structure defined in API.

2.9 Recovery
Due to the unreliable nature of UDP multicast it is possible that some packets may either be delayed or may be missing. Furthermore, the UDP packets may be duplicated at the network level. There is no recovery mechanism defined for this channel. Each packet delivered on this stream has complete information and there is no dependency on earlier or subsequent packet. Every packet received should be applied by member application and thus receiving applications need not handle the recovery.

9
BSE-CONFIDENTIAL

--- PAGE 10 ---

Direct NFCAST
V 5.0

3 Trading states for a sample business day

All instruments traded on BSE is classified into various groups called as products. Each product incorporates a set of instruments. The product is also referred as MarketSegment ID. State maintenance or session change in BSE happens at a product level. Each product can transition from one state to another independent of other products. All instruments belonging to a product will follow the same state transition. The product state change message (Session change) is also disseminated at product level. The message Product state change will convey the state change and the product ID also for which the state change or session change is applicable. The master files of the respective segment provide the product identifier against each instrument. Refer section Product Identifiers in master files to identify the field and their positions in various master files.

This section describes a typical trading day with the new BSE Trading system. Different product may follow different schedule during the day. For example, some products will be eligible for call auction session followed by continuous trading while some may be eligible for call auction only whereas some may be eligible for continuous trading only. Based on their eligibility the products are classified into different product types and each type will have different schedule. The different product types and their different schedule is presented below along with the possible values in each field of the message for each state. The client application can expect the Product state change message (2002) messages in the same sequence for each product belonging to a product type along with the same values as shown below.

3.1 Product type: Pre-open
All products falling in this category will have a call auction session at the start of market and it will be followed by continuous session. A Product state change message (2002) will be sent for each transition and for each product. The possible combination and sequence of market type and current session number received by TPS would be as follows.

| Time         | Market Type | Session Number | Start and End Flag | Description                          |
|--------------|-------------|----------------|--------------------|--------------------------------------|
| 7:50 AM      | 0           | 0              | N/A                | Logon                                |
| 9:00 AM      | 0           | 1              | N/A                | Pre-open Order Entry Start           |
| 9:07-9:08 AM | 0           | 0              | N/A                | Pre-open Order Entry End (Random)    |
| 9:08-9:12 AM | 0           | 2              | N/A                | Pre-open Matching End (Random)       |
| 9:15 AM      | 0           | 3              | N/A                | Continuous Session                   |
| 3:30 PM      | 0           | 4              | N/A                | Closing                              |
| 3:40 PM      | 0           | 5              | N/A                | Post-Closing session Start           |

10
BSE-CONFIDENTIAL

--- PAGE 11 ---

Direct NFCAST
V 5.0

| 4:00 PM      | 0           | 7              | N/A                | Member Query Session Start           |
| 6:03 PM      | 0           | 6              | N/A                | End of day                           |

3.2 Product type: Special Pre-open (SPOS)
All products having an IPO or relisting instrument will fall in this category. The products will have a call auction session at the start of market, and it will be followed by continuous session. A Product state change message (2002) will be sent in for each state transition. The possible combination and sequence of market type and current session number received by TPS would be as follows.

| Time         | Market Type | Session Number | Start and End Flag | Description                        |
|--------------|-------------|----------------|--------------------|------------------------------------|
| 7:50 AM      | 0           | 0              | N/A                | Logon                              |
| 9:00 AM      | 0           | 1              | N/A                | SPOS Order Entry Start             |
| 9:44-9:45 AM | 0           | 10             | N/A                | SPOS Order Entry End (Random)      |
| 9:45-9:55 AM | 0           | 12             | N/A                | SPOS Matching End (Random)         |
| 9:15 AM      | 0           | 13             | N/A                | Continuous Session                 |
| 3:30 PM      | 0           | 4              | N/A                | Closing                            |
| 3:40 PM      | 0           | 5              | N/A                | Post-Closing session Start         |
| 4:00 PM      | 0           | 7              | N/A                | Member Query Session Start         |
| 6:03 PM      | 0           | 6              | N/A                | End of day                         |

3.3 Product type: Periodic Call Auction (PCAS)
All products that are classified as illiquid instruments fall under this category. The products operate in call auction session only throughout the day. Call auction sessions is scheduled every hour. A Product state change message (2002) will be sent for each product. The possible combination and sequence of market type and current session number received by TPS would be as follows.

| Time           | Market Type | Session Number | Start and End Flag | Description                     |
|----------------|-------------|----------------|--------------------|---------------------------------|
| 7:50 AM        | 0           | 0              | N/A                | Logon                           |
| 9:30 AM        | 20          | 1              | S                  | PCAS Order Entry Start          |
| 10:14-10:15AM  | 20          | 1              | E                  | PCAS Order Entry End (Random)   |
| 10:15-10:30 AM | 20          | 2              | E                  | PCAS Matching End (Random)      |

11
BSE - CONFIDENTIAL

--- PAGE 12 ---

Direct NFCAST
V 5.0

| 10:30 AM       | 20          | 1              | S                  | PCAS Order Entry Start          |
| 11:14-11:15AM  | 20          | 1              | E                  | PCAS Order Entry End (Random)   |
| 11:15-11:30 AM | 20          | 2              | E                  | PCAS Matching End (Random)      |
| 3:30 PM        | 0           | 4              | N/A                | Closing                         |
| 4:00 PM        | 0           | 7              | N/A                | Member Query Session Start      |
| 6:03 PM        | 0           | 6              | N/A                | End of day                      |

* The same schedule as published above for 2 sessions is applicable other PCAS sessions also which will be conducted every hour during the day till 3:30 PM.

3.4 Product type: Continuous
All products falling in this category will have only continuous session. A Product state change (2002) will be sent for each transition and for each product. The possible combination and sequence of market type and current session number received by TPS would be as follows.

| Time         | Market Type | Session Number | Start and End Flag | Description               |
|--------------|-------------|----------------|--------------------|---------------------------|
| 7:50 AM      | 0           | 0              | N/A                | Logon                     |
| 9:15 AM      | 0           | 3              | N/A                | Continuous Session Start  |
| 3:30 PM      | 0           | 4              | N/A                | Closing                   |
| 3:40 PM      | 0           | 5              | N/A                | Post-Closing Session Start|

12
BSE - CONFIDENTIAL

--- PAGE 13 ---

Direct NFCAST
V 5.0

| 4:00 PM      | 0           | 7              | N/A                | Member Query Session Start|
| 6:03 PM      | 0           | 6              | N/A                | End of day                |

* The above schedule is applicable for currency derivatives and commodities derivatives segment also. However, the time for each state defined above will be different. For details on time for those market, kindly refer the BSEINDIA website.

3.5 Market Halt
In case the trading is halted due to breach of circuit limits then the market halts and resumes differently from a normal trading day. The below tables represent session values expected only in case of Market Halt.

In case when Normal market starts
| Time         | Market Type | Session Number | Start and End Flag | Description                       |
|--------------|-------------|----------------|--------------------|-----------------------------------|
| 7:50 AM      | 0           | 0              | N/A                | Logon                             |
| 9:00 AM      | 0           | 1              | N/A                | Pre-open Order Entry Start        |
| 9:07-9:08 AM | 0           | 0              | N/A                | Pre-open Order Entry End (Random) |
| 9:08-9:12 AM | 0           | 2              | N/A                | Pre-open Matching End (Random)    |

In case Market Halt is triggered at this stage i.e. during Pre-open matching then product state change message with session value as 0 will be sent to indicate market halt. After the halt period, market will resume with Call auction and sequence of events will be same as above.

| 9:15 AM      | 0           | 3              | N/A                | Continuous Session                |

In case Market Halt is triggered at this stage, End of Continuous session will be informed, by a Log on session. Below mentioned session information will be disseminated, when scheduling of Normal Call auction and SPOS is done in parallel. This is the case between 9.15 a.m. to 10.00 a.m.

|              | 0           | 0              | N/A                | End of Continuous Session         |
|--------------|-------------|----------------|--------------------|-----------------------------------|
|              | 0           | 1              | N/A                | Normal Call auction, SPOS Order Entry Session start |
|              | 0           | 0              | N/A                | Random End of Normal Call auction Order Entry Session |
|              | 0           | 10             | N/A                | Random End of SPOS Order Entry Session [Freeze Session] |

--- PAGE 14 ---

Direct NFCAST
V 5.0

|              | 0           | 2              | N/A                | End of Matching Session of Normal Call auction |
|--------------|-------------|----------------|--------------------|-----------------------------------|
|              | 0           | 12             | N/A                | End of Matching Session of SPOS   |
|              | 0           | 3              | N/A                | Start of Continuous Session       |
|              | 0           | 13             | N/A                | Continuous Session for SPOS       |

This is a second scenario, when Market Halt is triggered post 10.00 a.m in which case no SPOS session will be scheduled separately. At this stage, End of Continuous session will be informed by a Log-on session. Below mentioned session information will be disseminated, when scheduling of Normal Call auction prior to Continuous session

|              | 0           | 0              | N/A                | End of Continuous Session         |
|--------------|-------------|----------------|--------------------|-----------------------------------|
|              | 0           | 1              | N/A                | Normal Call auction Order Entry Session start |
|              | 0           | 0              | N/A                | Random End of Normal Call auction Order Entry Session [Freeze Session] |
|              | 0           | 2              | N/A                | End of Matching Session of Normal Call auction |
|              | 0           | 3              | N/A                | Start of Continuous Session       |

3.6 Block Deal Session
In the equity segment, irrespective of the product type, the block deal session is conducted twice a day for all the instruments. The first block deal session starts before the start of market at 8:45 AM and ends at 9:00 AM. The second block deal session starts at 2:05 PM and ends at 2:15 PM. No product state change message is sent for block deal session any time during the day.

14
BSE - CONFIDENTIAL

--- PAGE 15 ---

Direct NFCAST
V 5.0

Fine tuning client applications

This chapter covers some aspects of application tuning which should be considered during the design process of receiving applications.

3.7 Buffer size
Each UDP packet sent from exchange will not exceed the network MTU which is currently set to 1500 bytes. The size of all the messages is kept within the MTU limits. Also, the messages which are compressed will also have packet size lesser then MTU however the packets on decompression may be higher than the MTU also. The application needs to handle this.

3.8 Packet and message processing
It is important that messages are removed from the network in a timely fashion to prevent them from being dropped by the client machine due to "receive buffer" overflow in the IP stack. It is recommended that the client application should always ask for 2000 bytes of data in a single read call from the socket. The read call will always give single packet and the first 4 bytes will always convey the message type. The client application can decide on processing or dropping of packet based on the message type received in the first 4 bytes of the message.

15
BSE - CONFIDENTIAL

--- PAGE 16 ---

Direct NFCAST
V 5.0

4 Detailed data feed description and layout

This chapter provides message layouts and field information. It is structured by service messages and data messages. The messages generally contain service messages or market data messages.

4.1 Service messages
Service messages do not carry any market information. These messages are sent for synchronization or to indicate the status of the service. These messages are sent throughout the day independent of the trading hours and trading states.

4.2 Time Broadcast Message [2001]
Time broadcast message is sent by Exchange at an interval of 1 minute. Multiple packets for the same time are sent to compensate for the loss of packets. The message is sent throughout the day with the start of the Trading Engine. The synchronization of clock with this time will not be accurate due to the distance and network involved between client application and exchange.
Applicable Segment : All, Compression: No

| Field Name      | Type          | Description                                         |
|-----------------|---------------|-----------------------------------------------------|
| Message Type    | Long          | Type of message, Value: 2001 (Time Message)         |
| Reserved Field 1| Long          | For Internal Use.                                   |
| Reserved Field 2| Long          | For Internal Use.                                   |
| Reserved Field 3| unsigned short| For Internal Use.                                   |
| Hour            | Short         | The hour part of time when the message was sent     |
| Minute          | Short         | The minute part of time when the message was sent   |
| Second          | Short         | The second part of time when the message was sent   |
| Millisecond     | Short         | The millisecond part of time                        |

16
BSE - CONFIDENTIAL

--- PAGE 17 ---

Direct NFCAST
V 5.0

| Reserved Field 4| Short         | For Internal Use.                                   |
| Reserved Field 5| Short         | For Internal Use.                                   |
| Reserved Field 6| Short         | For Internal Use.                                   |
| Reserved Field 7| Char          | For Internal Use.                                   |
| Reserved Field 8| Char          | For Internal Use.                                   |
| Reserved Field 9| Char [2]      | For Internal Use.                                   |

4.3 Auction Keep Alive Message [2030]
Auction keep alive message is network related message. It is used to keep spanning tree alive for auction related broadcast messages. The message is sent by Exchange periodically. The message is of no functional relevance to the client application and should be dropped.
Applicable Segment: Equity, Compression: No

| Field Name      | Type          | Description                                         |
|-----------------|---------------|-----------------------------------------------------|
| Message Type    | Long          | Type of message, Value: 2030 (Keep Alive)           |

4.4 Market data messages
The market data messages are generally instrument specific messages and market level messages. Instrument specific messages include the market picture message, close price message, VaR message etc. while the market level messages include the index message, Product state change message etc.

4.5 Product State Change Message [2002]
This message is sent by the exchange whenever there is a transition of state for a product. The transition state is depicted by a unique session number. The message is sent for each product which is identified by product ID field.

17
BSE - CONFIDENTIAL

--- PAGE 18 ---

Direct NFCAST
V 5.0

Applicable Segment: All, Compression: No

| Field Name         | Type          | Description                                         |
|--------------------|---------------|-----------------------------------------------------|
| Message Type       | Long          | Type of message, Value: 2002 (Session Change)       |
| Reserved Field 1   | Long          | For Internal Use.                                   |
| Reserved Field 2   | Long          | For Internal Use.                                   |
| Reserved Field 3   | unsigned short| For Internal Use.                                   |
| Hour               | Short         | The hour part of time when message was sent         |
| Minute             | Short         | The minute part of time when message was sent       |
| Second             | Short         | The second part of time when message was sent       |
| Millisecond        | Short         | The millisecond part of time when message was sent  |
| Product ID         | Short         | Identifier of the product for which session is sent |
| Reserved Field 4   | Short         | For Internal Use.                                   |
| Filler             | Short         | For Future Use                                      |
| Market Type        | Short         | Type of market (20=PCAS, 0=All other)               |
| Session Number     | Short         | The current trading session (0=Logon, 1=Call Auction Entry, 2=Call Auction Matching, 3=Continuous, 4=Closing, 5=Post-Closing, 6=End of Day, 7=Member Query, 10=SPOS Entry End, 11=SPOS Matching End, 13=SPOS Continuous Start) |

18
BSE - CONFIDENTIAL

--- PAGE 19 ---

Direct NFCAST
V 5.0

| Reserved Field 5   | Long          | For Internal Use.                                   |
| Start End Flag     | Char          | Indication for start/end of session (S/E) for PCAS  |
| Reserved Field 6   | Char          | For Internal Use.                                   |
| Reserved Field 7   | Char [2]      | For Internal Use.                                   |

4.6 Shortage Auction Session Change Message [2003]
This message is sent by the exchange whenever there is a transition of state for shortage auction session which is conducted once or twice a day. The message is not sent product wise instead a single message for each session of shortage auction is sent.
Applicable Segment: Equity, Compression: No

| Field Name         | Type          | Description                                         |
|--------------------|---------------|-----------------------------------------------------|
| Message Type       | Long          | Type of message, Value: 2003 (Auction Session Change)|
| Reserved Field 1   | Long          | For Internal Use.                                   |
| Reserved Field 2   | Long          | For Internal Use.                                   |
| Reserved Field 3   | unsigned short| For Internal Use.                                   |

19
BSE - CONFIDENTIAL

--- PAGE 20 ---

Direct NFCAST
V 5.0

| Hour               | Short         | The hour part of time when message was sent         |
| Minute             | Short         | The minute part of time when message was sent       |
| Second             | Short         | The second part of time when message was sent       |
| Millisecond        | Short         | The millisecond part of time when message was sent  |
| Reserved Field 4   | Short         | For Internal Use.                                   |
| Reserved Field 5   | Short         | For Internal Use.                                   |
| Filler             | Short         | For Future Use                                      |
| Reserved Field 6   | Short         | For Internal Use.                                   |
| Session Number     | Short         | The current trading session (41=Start of Auction, 42=Start of Offer Entry, 43=Offer Entry Random End and Matching, 44=Member Query, 45=End of Auction) |
| Reserved Field 7   | Long          | For Internal Use.                                   |
| Reserved Field 8   | Char          | For Internal Use.                                   |
| Reserved Field 9   | Char          | For Internal Use.                                   |
| Reserved Field 10  | Char [2]      | For Internal Use.                                   |

4.7 News Headline [2004]
This message informs about the company news (Announcement Data or notices). The message is sent whenever there is some news or corporate action in a company. This message gives the url for the corporate announcement.
Applicable Segment: Equity & Equity Derivatives, Compression: No

| Field Name         | Type          | Description                                         |
|--------------------|---------------|-----------------------------------------------------|
| Message Type       | Long          | Type of message, Value: 2004 (News Headline)        |

--- PAGE 21 ---

Direct NFCAST
V 5.0

| Reserved Field 1   | Long          | For Internal Use.                                   |
| Reserved Field 2   | Long          | For Internal Use.                                   |
| Reserved Field 3   | unsigned short| For Internal Use.                                   |
| Hour               | Short         | The hour part of time when message was sent         |
| Minute             | Short         | The minute part of time when message was sent       |
| Second             | Short         | The second part of time when message was sent       |
| Millisecond        | Short         | The millisecond part of time when message was sent  |
| Reserved Field 4   | Short         | For Internal Use.                                   |
| Reserved Field 5   | Short         | For Internal Use.                                   |
| Reserved Field 6   | Short         | For Internal Use.                                   |
| News Category      | Short         | The category of this news.                          |
| Reserved Field 7   | Short         | For Internal Use.                                   |
| News Id            | Long          | The news identifier of this news.                   |
| News Headline      | Char(39+1)    | The actual news headlines. The weblink.             |
| Reserved Field 8   | Char          | For Internal Use.                                   |
| Reserved Field 9   | Char          | For Internal Use.                                   |
| Reserved Field 10  | Char [2]      | For Internal Use.                                   |

4.8 Market Picture Broadcast [2020 and 2021]
This message is sent by the Exchange whenever there is a change in the order book of an instrument/contract. The message is not sent on every update in the order book. Instead, it is sent whenever there is a change in a defined snapshot interval. The interval is currently defined as 800 milliseconds. To optimally use the network resources, updates for multiple instrument/ contracts is packaged in a single market picture message. The market picture message is the most frequently sent message and it has the largest size. Thus, to reduce the size of packet over the network, the message is compressed further using native compression algorithm. The member application must apply the decompression algorithm to retrieve the message. The decompression logic is explained in detail in section Decompression of Market Picture Message.

--- PAGE 22 ---

Direct NFCAST
V 5.0

Applicable Segment: All, Compression: Yes

| Field Name         | Type          | Description                                         |
|--------------------|---------------|-----------------------------------------------------|
| Message Type       | Long          | Type of message, Value: 2020 (Market Picture), 2021 (Market Picture - Complex Instruments) |
| Reserved Field 1   | Long          | For Internal Use.                                   |
| Reserved Field 2   | Long          | For Internal Use.                                   |
| Reserved Field 3   | unsigned short| For Internal Use.                                   |
| Hour               | Short         | The hour part of time when message was sent         |
| Minute             | Short         | The minute part of time when message was sent       |
| Second             | Short         | The second part of time when message was sent       |
| Millisecond        | Short         | The millisecond part of time when message was sent  |
| Reserved Field 4   | Short         | For Internal Use.                                   |
| Reserved Field 5   | Short         | For Internal Use.                                   |
| No of Records      | Short         | No. of market picture records sent (max 6)          |

The following sub-structure will repeat "No. of Records" times.
| Instrument Code    | Long/Long Long| Instrument code of the Instrument.                  |

--- PAGE 23 ---

Direct NFCAST
V 5.0

| No of Trades       | Unsigned Long | Number of trades during the day.                    |
| Traded Volume      | Long Long     | Total traded quantity during the day.               |
| Traded Value       | Long Long     | Total traded value during the day in paise.         |
| Trade Value Flag   | Char          | Unit for "Traded Value" ('l'=lacs, 'c'=crores)      |
| Reserved Field 6   | Char          | For Internal Use.                                   |
| Reserved Field 7   | Char          | For Internal Use.                                   |
| Reserved Field 8   | Char          | For Internal Use.                                   |
| Market Type        | Short         | The type of market (20=PCAS, 0=All other)           |
| Session Number     | Short         | Possible values are (1=Call Auction, 2=Matching, 3=Continuous, etc.) |

--- PAGE 24 ---

Direct NFCAST
V 5.0

| LTP Hour           | Char          | The hour part of time when last trade occurred.     |
| LTP Minute         | Char          | The minute part of time when last trade occurred.   |
| LTP Second         | Char          | The second part of time when last trade occurred.   |
| LTP Millisecond    | Char [3]      | The millisecond part of time when last trade occurred.|
| Reserved Field 9   | Char [2]      | For Internal Use.                                   |
| Reserved Field 10  | Short         | For Internal Use.                                   |
| Reserved Field 11  | Long Long     | For Internal Use.                                   |
| No of Price points | Short         | Number of Price points in depth (Currently 5)       |
| Timestamp          | Long Long     | Time market data was generated (Julian format)      |
| Close Rate         | Long          | Close price for the current trading day.            |
| LTQ                | Long Long     | Quantity which got executed in the last trade.      |
| LTP                | Long          | Price at which last trade took place.               |
| Open Rate          | Long          | Opening rate of the Instrument.                     |
| Previous Close Rate| Long          | Previous trading day closing rate.                  |
| High Rate          | Long          | Highest traded rate of the Instrument.              |

--- PAGE 25 ---

Direct NFCAST
V 5.0

| Low Rate                   | Long      | Lowest traded rate of the Instrument.               |
| Block Deal Reference Price | Long      | The reference price for block deal orders.          |
| Indicative Equilibrium Price | Long      | Tentative equilibrium price during call auction.    |
| Indicative Equilibrium Qty | Long Long | Tentative matchable quantity during call auction.   |
| Total Bid Quantity         | Long Long | Total Buy Quantity present in order book.           |
| Total Offer Quantity       | Long Long | Total Sell Quantity present in order book.          |
| Lower Circuit Limit        | Long      | Lower Price band for Instrument/Contract.           |
| Upper Circuit Limit        | Long      | Upper Price band for Instrument/Contract.           |
| Weighted Average price     | Long      | Weighted Average traded rate for Instrument.        |

Following sub-structure will repeat "No. of Price points" times.

--- PAGE 26 ---

Direct NFCAST
V 5.0

| Best Bid Rate      | Long          | Best bid rate in the order book.                    |
| Total Bid Quantity | Long Long     | Total quantity available at best bid rate.          |
| No. of Bid         | Unsigned Long | No. of Orders at the Buy Price point.               |
| Implied Buy Qty    | Long Long     | The quantity implied at the best price point.       |
| Reserved Field 12  | Long          | For Internal Use.                                   |
| Best Offer Rate    | Long          | Best offer rate.                                    |

--- PAGE 27 ---

Direct NFCAST
V 5.0

| Total Offer Qty    | Long Long     | Total quantity available at best offer rate.        |
| No. of Ask         | Unsigned Long | No. of Orders at the Sell Price point.              |
| Implied Sell Qty   | Long Long     | The quantity implied at the best price point.       |
| Reserved Field 13  | Long          | For Internal Use.                                   |

--- PAGE 28 ---

Direct NFCAST
V 5.0

4.9 Auction Market Picture Broadcast [2017]
This broadcast is sent by Auction system whenever there is a shortage auction scheduled during the day. This message provides information on the seller bids participating in the shortage auction.
Applicable Segment: Equity, Compression: No

| Field Name           | Type          | Description                                         |
|----------------------|---------------|-----------------------------------------------------|
| Message Type         | Long          | Type of message, Value: 2017 (Auction Market Picture)|
| Reserved Field 1     | Long          | For Internal Use.                                   |
| Reserved Field 2     | Long          | For Internal Use.                                   |
| Reserved Field 3     | unsigned short| For Internal Use.                                   |
| Hour                 | Short         | The hour part of time when message was sent         |
| Minute               | Short         | The minute part of time when message was sent       |
| Second               | Short         | The second part of time when message was sent       |
| Millisecond          | Short         | The millisecond part of time when message was sent  |
| Auction Number       | Short         | The number of the shortage auction.                 |
| Auction Trading Session| Short       | The current action trading session.                 |
| No of Records        | Short         | No. of market picture records sent (max 10).        |
| Notice Number        | Char [10+1]   | The notice number.                                  |
| Reserved Field 4     | Char          | For Internal Use.                                   |

--- PAGE 29 ---

Direct NFCAST
V 5.0

The following sub-structure will repeat "No. of Records" times.
| Instrument Code    | Long          | Instrument code of the Instrument.                  |
| Reserved Field 5   | Long          | For Internal Use.                                   |
| Auction Qty        | Long Long     | Total Auction Quantity.                             |
| Ceiling Price      | Long          | Highest Price (2 decimal precision).                |
| Floor Price        | Long          | Lowest Price (2 decimal precision).                 |
| Cut-off Rate       | Long          |                                                     |
| Lowest Offered Rate| Long          | Lowest offered rate in auction.                     |
| Cumulative Qty     | Long Long     | Total Offered quantity.                             |
| Reserved Field 6   | Long          | For Internal Use.                                   |
| Reserved Field 7   | Short         | For Internal Use.                                   |
| Reserved Field 8   | Short         | For Internal Use.                                   |
| Reserved Field 9   | Char          | For Internal Use.                                   |
| Reserved Field 10  | Char          | For Internal Use.                                   |
| Reserved Field 11  | Char          | For Internal Use.                                   |
| Reserved Field 12  | Char          | For Internal Use.                                   |

The following sub-structure will repeat 5 times.
| Likely Cut-off Rate| Long          | The likely highest rate at which execution will take place.|
| Offer Qty          | Long Long     | The cumulative quantity at the likely cut-off rate. |

--- PAGE 30 ---

Direct NFCAST
V 5.0

4.10 Odd-lot Market Picture Messages [2027]
This broadcast is sent by BOLTPLUS whenever there is trade in the odd-lot market. The Odd-lot market trading does not take place on BOLTPLUS platform. This message provides only the trade information and order information is not provided through broadcast message. The TPS applications can drop this message if the odd-lot market trades are not useful for them.
Applicable Segment: Equity, Compression: No

| Field Name         | Type          | Description                                         |
|--------------------|---------------|-----------------------------------------------------|
| Message Type       | Long          | Type of message, Value: 2027 (Odd-lot Market Picture)|
| Reserved Field 1   | Long          | For Internal Use.                                   |
| Reserved Field 2   | Long          | For Internal Use.                                   |
| Reserved Field 3   | unsigned short| For Internal Use.                                   |
| Hour               | Short         | The hour part of time when message was sent         |
| Minute             | Short         | The minute part of time when message was sent       |
| Second             | Short         | The second part of time when message was sent       |
| Millisecond        | Short         | The millisecond part of time when message was sent  |
| Reserved Field 4   | Short         | For Internal Use.                                   |
| Reserved Field 5   | Short         | For Internal Use.                                   |
| No of Records      | Short         | No. of market picture records sent (max 6).         |

The following sub-structure will repeat "No. of Records" times.
| Instrument Code    | Long          | Instrument code of the Instrument.                  |

--- PAGE 31 ---

Direct NFCAST
V 5.0

| Open Rate          | Long          | Opening rate of the Instrument (2 decimal).         |
| Previous Close Rate| Long          | Previous trading day closing rate (2 decimal).      |
| High Rate          | Long          | Highest traded rate of the Instrument (2 decimal).  |
| Low Rate           | Long          | Lowest traded rate of the Instrument (2 decimal).   |
| No of Trades       | Unsigned Long | Number of trades during the day.                    |
| Traded Volume      | Long Long     | Total traded quantity during the day.               |
| Traded Value       | Long Long     | Total traded value during the day.                  |
| LTQ                | Long Long     | Quantity which got executed in the last trade.      |
| LTP                | Long          | Price at which last trade took place (2 decimal).   |
| Close Rate         | Long          | Close price for the current trading day (2 decimal).|
| Trade Value Flag   | Char          | Unit for "Traded Value" ('l'=lacs, 'c'=crores)      |
| Reserved Field 7   | Char          | For Internal Use.                                   |
| Reserved Field 8   | Char          | For Internal Use.                                   |
| Reserved Field 9   | Char          | For Internal Use.                                   |
| Lower Circuit Limit| Long          | Lower Price band for Instrument/Contract.           |

--- PAGE 32 ---

Direct NFCAST
V 5.0

| Upper Circuit Limit | Long     | Upper Price band for Instrument/Contract.             |
| Weighted Average price| Long     | Weighted Average traded rate for Instrument.          |
| Market Type         | Short    | Not applicable.                                       |
| Session Number      | Short    | Not applicable.                                       |
| LTP Hour            | Char     | The hour part of time when message was sent.          |
| LTP Minute          | Char     | The minute part of time when message was sent.        |
| LTP Second          | Char     | The second part of time when message was sent.        |
| LTP Millisecond     | Char [3] | The millisecond part of time when message was sent.   |
| Reserved Field 10   | Char [2] | For Internal Use.                                     |

4.11 Debt Market Picture [2033]
This broadcast is sent by BOLTPLUS whenever there is a change in order book of a debt instrument/contract. The message is applicable for debt instruments where trading takes place on clean price. The message is not sent on every update in the order book. Instead, it is sent whenever there is a change in a defined snapshot interval. The interval is currently defined as 800 milliseconds. To optimally use the network resources, updates for multiple instrument/ contracts is packaged in a single market picture message. The market picture message is the most frequently sent message with the highest packet size. Thus, to reduce the size of packet over the network, the message is compressed further using native compression algorithm. The member application must apply the decompression algorithm to retrieve the message.
Applicable Segment: Equity, Compression: Yes

| Field Name         | Type          | Description                                         |
|--------------------|---------------|-----------------------------------------------------|
| Message Type       | Long          | Type of message, Value: 2033 (Debt Market Picture)  |

--- PAGE 33 ---

Direct NFCAST
V 5.0

| Reserved Field 1   | Long          | For Internal Use.                                   |
| Reserved Field 2   | Long          | For Internal Use.                                   |
| Reserved Field 3   | unsigned short| For Internal Use.                                   |
| Hour               | Short         | Time : HH                                           |
| Minute             | Short         | Time : MM                                           |
| Second             | Short         | Time : SS                                           |
| Millisecond        | Short         | Time : sss                                          |
| Reserved Field 4   | Short         | For Internal Use.                                   |
| Reserved Field 5   | Short         | For Internal Use.                                   |
| No of Records      | Short         | No. of market picture records sent (max 6).         |

The following sub-structure will repeat "No. of Records" times.
| Instrument Code    | Long          | Instrument code of the Instrument.                  |
| No of Trades       | Long          | Number of trades during the day.                    |
| Volume             | Long          | Total Traded qty during the day.                    |
| Value              | Long          | Total Traded value during the day.                  |
| Trade Value Flag   | Char          | Unit for value ('l'=lacs, 'c'=crores).               |
| Reserved Field 6   | Char          | For Internal Use.                                   |
| Reserved Field 7   | Char          | For Internal Use.                                   |

--- PAGE 34 ---

Direct NFCAST
V 5.0

| Reserved Field 8   | Char     | For Internal Use.                                     |
| Market Type        | Short    | The type of market (20=PCAS, 0=All other).            |
| Session Number     | Short    | The Session of the Instrument (1=Call Auction, etc.). |
| LTP Hour           | Char     | Hour at which Last trade took place.                  |
| LTP Minute         | Char     | Minute at which Last trade took place.                |
| LTP Second         | Char     | Second at which Last trade took place.                |
| LTP Millisecond    | Char [3] | Millisecond at which Last trade took place.           |
| Reserved Field 9   | Char [2] | For Internal Use.                                     |
| Reserved Field 10  | Short    | For Internal Use.                                     |
| No of Price points | Short    | Number of Price points (Currently 5).                 |
| Timestamp          | Long Long| Time market data was generated (Julian format).       |

--- PAGE 35 ---

Direct NFCAST
V 5.0

| Close Rate         | Long | Close price for the current day (4 decimal).          |
| YTM                | Long | Yield to Maturity based on LTP.                       |
| YTP                | Long | Yield to Put based on LTP.                            |
| YTC                | Long | Yield to Call based on LTP.                           |
| Last Trade Qty     | Long | Quantity executed in the last trade.                  |
| LTP                | Long | Price at which last trade took place (4 decimal).     |
| Open Rate          | Long | Opening rate of the Instrument (4 decimal).           |
| Previous Close Rate| Long | Previous Closing rate of the Instrument (4 decimal).  |
| High Rate          | Long | Highest traded rate of the Instrument (4 decimal).    |
| Low Rate           | Long | Lowest traded rate of the Instrument (4 decimal).     |
| Reserved Field 11  | Long | For Internal Use.                                     |
| Indicative Eq. Price| Long | For Future Use.                                       |

--- PAGE 36 ---

Direct NFCAST
V 5.0

| Indicative Eq. Qty | Long | For Future Use.                                       |
| Total Bid Qty      | Long | Total quantity present in the buy order book.         |
| Total Offer Qty    | Long | Total quantity present in the sell order book.        |
| Lower Circuit Limit| Long | Lower Circuit limit for Instrument (4 decimal).       |
| Upper Circuit Limit| Long | Upper Circuit limit for Instrument (4 decimal).       |
| Weighted Average   | Long | Weighted Average for Instrument (4 decimal).          |

Following sub-structure will repeat "No. of Price points" times.
| Best Bid Rate      | Long | Best bid rate in paise (4 decimal).                   |
| Total Bid Qty      | Long | Total quantity available at best bid rate.            |
| Buy YTM            | Long | Yield to Maturity computed based on the Buy price.    |
| Buy YTP            | Long | Yield to Put computed based on the Buy price.         |
| Buy YTC            | Long | Yield to Call computed based on the Buy price.        |
| No. of Bid         | Long | No. of Orders at the Buy Price point.                 |

--- PAGE 37 ---

Direct NFCAST
V 5.0

| Filler             | Long |                                                     |
| Best Offer Rate    | Long | Best offer rate in paise (4 decimal).               |
| Total Offer Qty    | Long | Total quantity available at best offer rate.        |
| Sell YTM           | Long | Yield to Maturity computed based on the Sell price. |
| Sell YTP           | Long | Yield to Put computed based on the Sell price.      |
| Sell YTC           | Long | Yield to Call computed based on the Sell price.     |
| No. of Ask         | Long | No. of Orders at the Sell Price point.              |
| Filler             | Long |                                                     |

4.12 Index Change Message [2011 and 2012]
This message provides information for the change in the index value for the indices. The message is delivered in the equity multicast stream only. Different Indices are disseminated at different frequencies in two different messages. Indices with lower dissemination frequency are sent in message (2011) and others are sent in message (2012).
Applicable Segment: Equity, Compression: No

| Field Name         | Data Type     | Description                                         |
|--------------------|---------------|-----------------------------------------------------|
| Message Type       | Long          | Type of message, Value: 2011 (Index broadcast 1), 2012 (Index broadcast 2) |
|                    |               | Frequencies: 2011=1 sec, 2012=8 sec.                |

--- PAGE 38 ---

Direct NFCAST
V 5.0

| Reserved Field 1   | Long          | For Internal Use.                                   |
| Reserved Field 2   | Long          | For Internal Use.                                   |
| Reserved Field 3   | unsigned short| For Internal Use.                                   |
| Hour               | Short         | The hour part of time when message was sent         |
| Minute             | Short         | The minute part of time when message was sent       |
| Second             | Short         | The second part of time when message was sent       |
| Millisecond        | Short         | The millisecond part of time when message was sent  |
| Reserved Field 4   | Short         | For Internal Use.                                   |
| Reserved Field 5   | Short         | For Internal Use.                                   |
| No. of Records     | Short         | Number of records (Max 24).                         |

The following sub-structure will repeat "No. of Records" times.
| Index Code         | Long          | The Index Code assigned to the index.               |
| Index High         | Long          | Day’s highest index value.                          |
| Index Low          | Long          | Day’s lowest index value.                           |
| Index Open         | Long          | Day’s opening index value.                          |
| Previous Index Close| Long         | Previous day’s index closing value.                 |
| Index Value        | Long          | Current index value.                                |

--- PAGE 39 ---

Direct NFCAST
V 5.0

| Index ID           | Char (6+1)    | The Index Identifier of the index (e.g., SENSEX).   |
| Reserved Field 6   | Char          | For Internal Use.                                   |
| Reserved Field 7   | Char          | For Internal Use.                                   |
| Reserved Field 8   | Char          | For Internal Use.                                   |
| Reserved Field 9   | Char [2]      | For Internal Use.                                   |
| Index Close Value Indicator| Short | Identifier for "Previous Index Close" field value (0=Previous close, 1=Indicative close, 2=Today's close). |
| Reserved Field 10  | Short         | For Internal Use.                                   |

4.13 Limit Price Protection Range [2034]
The message is used to communicate the execution range of limit orders applicable for the instrument. The range is dynamic in nature and changes with the reference price of the instrument. The reference price can be the LTP or the theoretical price.
Applicable Segment: Equity Derivatives, Compression: No

| Field Name         | Data Type     | Description                                         |
|--------------------|---------------|-----------------------------------------------------|
| Message Type       | Long          | Type of message, Value: 2034 (Limit Price Protection Range) |
| Reserved Field 1   | Long          | For Internal Use.                                   |
| Reserved Field 2   | Long          | For Internal Use.                                   |
| Reserved Field 3   | unsigned short| For Internal Use.                                   |

--- PAGE 40 ---

Direct NFCAST
V 5.0

| Hour               | Short         | The hour part of time when message was sent         |
| Minute             | Short         | The minute part of time when message was sent       |
| Second             | Short         | The second part of time when message was sent       |
| Millisecond        | Short         | The millisecond part of time when message was sent  |
| Reserved Field 4   | Short         | For Internal Use.                                   |
| Reserved Field 5   | Short         | For Internal Use.                                   |
| No. of Records     | Short         | Number of records (Max 20).                         |

The following sub-structure will repeat "No. of Records" times.
| Instrument Code    | Long          | Instrument code of the Instrument.                  |
| Upper Limit Price  | Long          | The Upper price beyond which Buy orders will be rejected.|
| Lower Limit Price  | Long          | The lower price beyond which Sell orders will be rejected.|
| Reserved Field 6   | Long          | For future use.                                     |
| Reserved Field 7   | Long          | For future use.                                     |

--- PAGE 41 ---

Direct NFCAST
V 5.0

4.14 Call Auction cancelled quantity message [2035]
The message is used to communicate the total cancelled buy/sell orders and cancelled buy/sell quantity applicable for the instrument during SPOS/ Relisting auction session. The data will be dynamic in nature during the auction session of the instrument. The cancelled quantity information will be cumulative for the call auction session.
Applicable Segment: Equity, Compression: No

| Field Name         | Data Type     | Description                                         |
|--------------------|---------------|-----------------------------------------------------|
| Message Type       | Long          | Type of message, Value: 2035 (Call Auction cancelled quantity message) |
| Reserved Field 1   | Long          | For Internal Use.                                   |
| Reserved Field 2   | Long          | For Internal Use.                                   |
| Reserved Field 3   | unsigned short| For Internal Use.                                   |
| Hour               | Short         | The hour part of time when message was sent         |
| Minute             | Short         | The minute part of time when message was sent       |
| Second             | Short         | The second part of time when message was sent       |
| Millisecond        | Short         | The millisecond part of time when message was sent  |
| Reserved Field 4   | Short         | For Internal Use.                                   |
| Reserved Field 5   | Short         | For Internal Use.                                   |
| No. of Records     | Short         | Number of records (Max 20).                         |

The following sub-structure will repeat "No. of Records" times.
| Instrument Code    | Long          | Instrument code of the Instrument.                  |

--- PAGE 42 ---

Direct NFCAST
V 5.0

| Cancelled Buy Qty  | Long Long | The number of total buy quantity cancelled.         |
| Cancelled Buy Orders| Long      | The total number of cancelled buy orders.           |
| Cancelled Sell Qty | Long Long | The number of total sell quantity cancelled.        |
| Cancelled Sell Orders| Long      | The total number of cancelled sell orders.          |
| Reserved Field 6   | Long      | For future use.                                     |
| Reserved Field 7   | Long      | For future use.                                     |

4.15 Close Price [2014]
Close price message will be sent in closing session when the close price of the instrument is calculated. The message will have day’s close price. Additionally, the close price message will be sent in the morning before the start of the market. In this case the close price will be the previous day’s close price.
Applicable Segment: All, Compression: No

| Field Name         | Type          | Description                                         |
|--------------------|---------------|-----------------------------------------------------|
| Message Type       | Long          | Type of message, Value: 2014 (Close Price)          |
| Reserved Field 1   | Long          | For Internal Use.                                   |
| Reserved Field 2   | Long          | For Internal Use.                                   |
| Reserved Field 3   | unsigned short| For Internal Use.                                   |
| Hour               | Short         | The hour part of time when message was sent         |
| Minute             | Short         | The minute part of time when message was sent       |
| Second             | Short         | The second part of time when message was sent       |

--- PAGE 43 ---

Direct NFCAST
V 5.0

| Millisecond        | Short         | The millisecond part of time when message was sent  |
| Reserved Field 4   | Short         | For Internal Use.                                   |
| Reserved Field 5   | Short         | For Internal Use.                                   |
| No of Records      | Short         | Number of Instruments in this message (Max 80).     |

The following sub-structure will repeat "No. of Records" times.
| Instrument Code    | Long          | Instrument Id of the Instrument.                    |
| Price              | Long          | The close price for the Instrument.                 |
| Reserved Field 6   | Char          | For Internal Use.                                   |
| Traded Flag        | Char          | Traded Today (Y/N).                                 |
| Reserved Field 7   | Char          | For Internal Use.                                   |
| Reserved Field 8   | Char          | For Internal Use.                                   |

4.16 Open Interest Message [2015]
Open Interest message will be sent by BOLTPLUS in a specific interval for the Derivatives instrument listed in the Exchange. The broadcast will be sent whenever there is change in the OI of an instrument. For recovery purposes the OI will be sent for all contracts periodically throughout the day irrespective if there was any change in the OI.
Applicable Segment: All Derivatives, Compression: No

| Field Name         | Type          | Description                                         |
|--------------------|---------------|-----------------------------------------------------|
| Message Type       | Long          | Type of message, Value: 2015 (Open Interest)        |
| Reserved Field 1   | Long          | For Internal Use.                                   |
| Reserved Field 2   | Long          | For Internal Use.                                   |
| Reserved Field 3   | unsigned short| For Internal Use.                                   |
| Hour               | Short         | The hour part of time when message was sent         |

--- PAGE 44 ---

Direct NFCAST
V 5.0

| Minute             | Short         | The minute part of time when message was sent       |
| Second             | Short         | The second part of time when message was sent       |
| Millisecond        | Short         | The millisecond part of time when message was sent  |
| Reserved Field 4   | Short         | For Internal Use.                                   |
| Reserved Field 5   | Short         | For Internal Use.                                   |
| No. of Records     | Short         | Number of records (Max 26).                         |

The following sub-structure will repeat "No. of Records" times.
| Instrument Id      | long          | Instrument Id of the Instrument.                    |
| Open Interest Qty  | long long     | The Open Interest in the market in QTY terms.       |
| Open Interest Value| long long     | The Open interest values (2 decimal).               |
| Open Interest Change| long         | Change in open interest in term of quantity.        |
| Reserved Field 6   | Char(4)       | For Internal Use.                                   |
| Reserved Field 7   | Long          | For Internal Use.                                   |
| Reserved Field 8   | Short         | For Internal Use.                                   |
| Reserved Field 9   | Short         | For Internal Use.                                   |
| Reserved Field 10  | Char          | For Internal Use.                                   |
| Reserved Field 11  | Char          | For Internal Use.                                   |
| Reserved Field 12  | Char[2]       | For Internal Use.                                   |

--- PAGE 45 ---

Direct NFCAST
V 5.0

4.17 VaR Percentage [2016]
VAR Percentage message will be sent by Exchange at periodic interval. The latest Instrument wise VAR and ELM VAR Percentages will be sent by Exchange. This message is applicable for equity instruments, and it will be available in Equity multicast stream only.
Applicable Segment: All, Compression: No

| Field Name         | Type          | Description                                         |
|--------------------|---------------|-----------------------------------------------------|
| Message Type       | long          | Type of message, Value: 2016 (VaR Percentage)       |
| Reserved Field 1   | Long          | For Internal Use.                                   |
| Reserved Field 2   | Long          | For Internal Use.                                   |
| Reserved Field 3   | unsigned short| For Internal Use.                                   |
| Hour               | Short         | The hour part of time when message was sent         |
| Minute             | Short         | The minute part of time when message was sent       |
| Second             | Short         | The second part of time when message was sent       |
| Millisecond        | Short         | The millisecond part of time when message was sent  |
| Reserved Field 4   | Short         | For Internal Use.                                   |
| Reserved Field 5   | Short         | For Internal Use.                                   |
| No. of Records     | Short         | Number of records (Max 40).                         |

The following sub-structure will repeat "No. of Records" times.
| Instrument code    | Long          | Instrument Id of the Instrument.                    |

--- PAGE 46 ---

Direct NFCAST
V 5.0

| VAR/IM Percentage  | Long          | The applicable VaR for the current period (2 decimal).|
| ELM VAR Percentage | Long          | The applicable ELM for the current period (2 decimal).|
| Reserved Field 6   | Long          | For Internal Use.                                   |
| Reserved Field 7   | Short         | For Internal Use.                                   |
| Reserved Field     | Short         | For Internal Use.                                   |
| Reserved Field 8   | Char          | For Internal Use.                                   |
| Identifier         | Char          | Identifier for market (E = Equity).                 |
| Reserved Field 9   | Char[2]       | For Internal Use.                                   |

Note: If the VAR and ELMVAR values received from the CTE are 975 and 1425, it means that the VAR percentage and the ELMVAR percentage are 9.75% and 14.25% respectively.

4.18 RBI Reference Rate [2022]
This message is used to disseminate the reference rate published by RBI for foreign exchange. The rate is published multiple times during the day. The date field specifies the date for which the rate is applicable. This field can be used to identify if the new rate is published by RBI.
Applicable Segment: Currency Derivatives, Compression: No

| Field Name         | Type          | Description                                         |
|--------------------|---------------|-----------------------------------------------------|
| Message Type       | Long          | Type of message, Value: 2022 (RBI Reference Rate)   |
| Reserved Field 1   | Long          | For Internal Use.                                   |
| Reserved Field 2   | Long          | For Internal Use.                                   |
| Reserved Field 3   | unsigned short| For Internal Use.                                   |
| Hour               | Short         | The hour part of time when message was sent         |
| Minute             | Short         | The minute part of time when message was sent       |

--- PAGE 47 ---

Direct NFCAST
V 5.0

| Second             | Short         | The second part of time when message was sent       |
| Millisecond        | Short         | The millisecond part of time when message was sent  |
| Reserved Field 4   | Short         | For Internal Use.                                   |
| Reserved Field 5   | Short         | For Internal Use.                                   |
| No. Of Records     | Short         | Number of records.                                  |

The following sub-structure will repeat "No. of Records" times.
| Underlying Asset Id| Long          | The underlying Asset (600=USD, 601=GBP, etc.).      |
| RBI Rate           | Long          | The reference rate in bps (divide by 10000).        |
| Reserved Field 6   | Short         | For future use.                                     |
| Reserved Field 7   | Short         | For future use.                                     |
| Date               | Char(11)      | The date for which the reference rate is applicable (DD-MM-YYYY). |
| Filler             | Char(1)       | Pad.                                                |

4.19 Implied Volatility [2028]
This message will be sent for the Derivatives contracts for trading activities.
Applicable Segment: Equity Derivatives, Compression: No

| Field Name         | Type          | Description                                         |
|--------------------|---------------|-----------------------------------------------------|
| Message Type       | Long          | Type of message, Value: 2028 (Implied Volatility)   |
| Reserved Field 1   | Long          | For Internal Use.                                   |
| Reserved Field 2   | Long          | For Internal Use.                                   |
| Reserved Field 3   | unsigned short| For Internal Use.                                   |
| Hour               | Short         | The hour part of time when message was sent         |

--- PAGE 48 ---

Direct NFCAST
V 5.0

| Minute             | Short         | The minute part of time when message was sent       |
| Second             | Short         | The second part of time when message was sent       |
| Millisecond        | Short         | The millisecond part of time when message was sent  |
| Reserved Field 4   | Short         | For Internal Use.                                   |
| Reserved Field 5   | Short         | For Internal Use.                                   |
| No. Of Records     | Short         | Number of records (Max 13).                         |

The following sub-structure will repeat "No. of Records" times.
| Instrument Id      | Long          | Instrument Id of the Instrument.                    |
| Implied Volatility | Long Long     | Implied Volatility (IV) in percentage.              |
| Reserved Field 6   | Long Long     |                                                     |
| ...                | ...           | ...                                                 |
| Reserved Field 17  | Char[2]       | For Internal Use.                                   |

5 Decompression of Market Depth Message
BSE applies the compression only on market picture messages viz Message type 2020 and 2021 only. All other market data messages can be read from the socket directly as per the structure defined in API. The compression principle used is proprietary.

--- PAGE 49 ---

Direct NFCAST
V 5.0

In case of market picture message, the entire market picture message is not sent in compressed format. For each record present in the market picture packet, the compression starts with the open rate field and ends with the last field for that record. All data points from open rates onwards are in compressed format. The decompression logic is detailed with an example in section Example for full market picture reading.

It is suggested that the user should read 2000 bytes of data by default in a single read call. This single read call will get single packet only. The first 4 bytes will convey the message type and depending upon the message type the user should process the required messages or drop the message if not required. Since the size of market picture message cannot be ascertained due to compression logic, the market picture message needs to be read byte by byte. It cannot be mapped to the structure directly as defined in the API.

Binary values are presented in big-endian byte order, so the TPS application needs to convert it to little endian byte order.
- Big-Endian means that the most significant byte of any multibyte data field is stored at the lowest memory address.
- Little-Endian means that the least significant byte of any multibyte data field is stored at the lowest memory address.

5.1 Compression Principle
The idea used in compression is that rate fields are defined as long (4 bytes), but since prices operate in a nearby range, sending a differential value from a base price can be done in 2 bytes, saving 2 bytes per field. Similar logic is applied to quantity fields.

5.2 Decompression Mechanism
For decompression 2 fields are marked as base fields. One base field (LTP) is used for price and the other base field (LTQ) is used for Quantity. All the compressed fields contain the difference value with respect to base fields in 2 bytes. The user needs to add this 2-byte field value with the base field value to arrive the actual value. In case the difference value exceeds 2 bytes (if the 2-byte value is 32767), then the actual value is sent in the next 4 bytes.

5.3 Decompression Mechanism for Best 5 substructure
In case of best 5 structures, 3 additional aspects are covered in decompression mechanism.

5.4 Reading Sequence
The best 5 structure needs to be read for buy side and sell side independently. Read 5 Best Bid Fields first, then 5 Best Offer Fields.

--- PAGE 50 ---

Direct NFCAST
V 5.0

✓ Best Bid Rate1, Total Bid Qty1, No. of   Bid at the price points1, Implied Buy Quantity 1 
✓ Best Bid Rate2, Total Bid Qty2, No. of   Bid at the price points2, Implied Buy Quantity 2 
✓ Best Bid Rate3, Total Bid Qty3, No. of   Bid at the price points3, Implied Buy Quantity 3 
✓ Best Bid Rate4, Total Bid Qty4, No. of   Bid at the price points4, Implied Buy Quantity 4 
✓ Best Bid Rate5, Total Bid Qty5, No. of   Bid at the price points5, Implied Buy Quantity 5 

Once 5 Best Bid Fields completed then start reading the 5 Best Offer Fields in similar order.

5.5 Decompression logic
The general decompression mechanism holds true. Additionally, the base fields change with each level. For each level, the base fields are the previous level's field values.
Level 1 Best Bid 1 Best Bid Qty 1 No of orders 1 Implied Buy Qty 1 
         Base LTP LTQ LTQ LTQ 
Level 2 Best Bid 2 Best Bid Qty 2 No of orders 2 Implied Buy Qty 2 
          Base Best Bid 1 Best Bid Qty 1 No of orders 1 Implied Buy Qty 1 
Level 3 Best Bid 3 Best Bid Qty 3 No of orders 3 Implied Buy Qty 3 
          Base Best Bid 2 Best Bid Qty 2 No of orders 2 Implied Buy Qty 2 
Level 4 Best Bid 4 Best Bid Qty 4 No of orders 4 Implied Buy Qty 4 
         Base Best Bid 3 Best Bid Qty 3 No of orders 3 Implied Buy Qty 3 
Level 5 Best Bid 5 Best Bid Qty 5 No of orders 5 Implied Buy Qty 5 
        Base Best Bid 4 Best Bid Qty 4 No of orders 4 Implied Buy Qty 4 

Similar logic applies for the sell side.

5.6 Handling condition when no orders present at a price point
If price points are not present, they are not sent. During decompression, if a Best Bid Rate equals 32766, it indicates there are no more buy price points. Similarly, if a Best Offer Rate equals -32766, it indicates no more sell price points.

5.7 Repetition of Instruments
Once decompression of the first instrument is complete, the user needs to track the number of bytes read. Then, start reading the next instrument's uncompressed data (e.g., instrument code) from that byte position, store its new base values, and then apply the compression logic again.

--- PAGE 51 ---

Direct NFCAST
V 5.0

5.8 Summary of decompression mechanism
- Identify and store the base values (LTP, LTQ).
- Read next 2 bytes and add to base value to get final value.
- If value is 32767, read next 4 bytes for the actual value.
- For Best 5 structure, if value is 32766 or -32766, it means end of best bid or best offer.
- Base value for level 1 is LTP/LTQ.
- Base value for subsequent level 'n' is the value from level 'n-1'.

5.9 Example of Decompression Logic

Following are 3 examples explaining the decompression logic for the market picture message.  

5.9.1 Example for General Decompression Mechanism
Base Rate (LTP) = 1000.
- Open Rate: Read 2 bytes = -500. Final value = 1000 + (-500) = 500.
- Previous Close Rate: Read 2 bytes = 32767. This is an indicator. Read next 4 bytes = 40000. Final value = 40000.
- High Rate: Read 2 bytes = 0. Final value = 1000 + 0 = 1000.

5.9.2 Example for Best 5 structure decompression mechanism
Instrument has one bid rate, no offer rate. Base LTP = 1000, Base LTQ = 10.
- Best Bid Rate1: Read 2 bytes = 0. Final value = 1000 + 0 = 1000.
- Total Bid Qty1: Read 2 bytes = 15. Final value = 10 + 15 = 25.
- Bid at price points1: Read 2 bytes = -5. Final value = 10 + (-5) = 5.
- Implied Buy Qty1: Read 2 bytes = -10. Final value = 10 + (-10) = 0.
- Best Bid Rate2: Read 2 bytes = 32766. This indicates end of Best bid.
- ...remaining bid fields are not present.
- Best Offer Rate1: Read 2 bytes = -32766. This indicates end of Best offer.
- ...remaining offer fields are not present.

BSE - CONFIDENTIAL 



Direct NFCAST        V 5.0 

Last Traded Rate Base 1000 4 Assume already available in memory 

Last Traded Base 10 4 Assume already available in memory 
Quantity 
Best Bid Rate1 Compressed 0 2 Read next 2 bytes to get 0 and apply it to LTR 

to get the final value as 1000. 
Total Bid Qty1 Compressed 15 2 Read next 2 bytes to get 15 and apply it to LTQ 

to get the final value as 25. 
Bid at the price Compressed -5 2 Read next 2 bytes to get -5 and apply it to LTQ 
points1 to get the final value as 5. 
Implied Buy Compressed -10 2 Read next 2 bytes to get -10 and apply it to 
Quantity 1 LTQ to get the final value as 0. 
Best Bid Rate2 Compressed 32766 2 Read next 2 bytes to get 32766 indicates end 

of Best bid [Not available] 
Total Bid Qty2 Compressed NA 0 Not Available 
Bid at the price Compressed NA 0 Not Available 
points2 
Implied Buy Compressed NA 0 Not Available 
Quantity 2 
Best Bid Rate3 Compressed NA 0 Not Available 
Total Bid Qty3 Compressed NA 0 Not Available 
Bid at the price Compressed NA 0 Not Available 
points3 
Implied Buy Compressed NA 0 Not Available 
Quantity 3 
Best Bid Rate4 Compressed NA 0 Not Available 
Total Bid Qty4 Compressed NA 0 Not Available 
Bid at the price Compressed NA 0 Not Available 
points4 
Implied Buy Compressed NA 0 Not Available 
Quantity 4 
Best Bid Rate5 Compressed NA 0 Not Available 
Total Bid Qty5 Compressed NA 0 Not Available 
Bid at the price Compressed NA 0 Not Available 
points5 
Implied Buy Compressed NA 0 Not Available 
Quantity 5 
Best Offer Rate1 Compressed -32766 2 Read next 2 bytes to get -32766 indicates end 

of Best offer [Not available] 
Total Offer Qty1 Compressed NA 0 Not Available 
Offer at the price Compressed NA 0 Not Available 
points1 
Implied Sell Compressed NA 0 Not Available 
Quantity 1 

52 
 

BSE - CONFIDENTIAL 



Direct NFCAST        V 5.0 

 

5.9.3 Example for full market picture packet reading 
 

Field Name Type Action 
Message Type Long Read 4 bytes 
Reserved Field Long Read next 4 bytes 
Reserved Field Long Read next 4 bytes 
Reserved Field unsigne Read next 2 bytes 

d short 
Hour Short Read next 2 bytes 
Minute Short Read next 2 bytes 
Second Short Read next 2 bytes 
Millisecond Short Read next 2 bytes 
Reserved Field Short Read next 2 bytes 
Reserved Field Short Read next 2 bytes 
No of Records Short Read next 2 bytes 

Following is a market picture structure appearing repeatedly (Max 5 times) 

Instrument Code Long Read next 4 bytes for message 2020 / 8 bytes for 2021 
No of Trades Unsigne Read next 4 bytes 

d Long 
Volume Long Read next 8 bytes 

Long 
Value    Long Read next 8 bytes 

Long 
Trade Value Flag Char Read next 1 byte 
Trend Char Read next 1 byte 
Six Lakh Flag Char Read next 1 byte 
Reserved Field               Char Read next 1 byte 
Market Type Short Read next 2 bytes 
Session Number Short Read next 2 bytes 
LTP Hour Char Read next 1 byte 
LTP Minute Char Read next 1 byte 
LTP Second Char Read next 1 byte 
LTP Millisecond Char[3] Read next 3 bytes 
Reserved Field Char[2] Read next 2 bytes 
Reserved Field Short Read next 2 bytes 
Reserved Field Long Read next 8 bytes 

Long 
No of Price points Short Read next 2 bytes 
Timestamp Long Read next 8 bytes 

Long 
Close Rate Long Read next 4 bytes  
Last Trade Qty Long Read next 8 bytes and save as Qty base 

Long 

53 
 

BSE - CONFIDENTIAL 



Direct NFCAST        V 5.0 

LTP   Long Read next 4 bytes and save as Rate base 
Open Rate Long Read next 2 bytes and apply compression logic with base as LTP 
Previous Close Rate Long Read next 2 bytes and apply compression logic with base as LTP 
High Rate Long Read next 2 bytes and apply compression logic with base as LTP 
Low Rate Long Read next 2 bytes and apply compression logic with base as LTP 
Reserved Field Long Read next 2 bytes and apply compression logic with base as LTP 
Indicative Equilibrium Long Read next 2 bytes and apply compression logic with base as LTP 
Price 
Indicative Equilibrium Long Read next 2 bytes and apply compression logic with base as LTQ 
Qty Long 
Total Bid Qty Long Read next 2 bytes and apply compression logic with base as LTQ 

Long 
Total Offer Qty Long Read next 2 bytes and apply compression logic with base as LTQ 

Long 
Lower Circuit Limit Long Read next 2 bytes and apply compression logic with base as LTP 
Upper Circuit Limit Long Read next 2 bytes and apply compression logic with base as LTP 
Weighted Average Long Read next 2 bytes and apply compression logic with base as LTP 

Following buy sub-structure will repeat number of times as specified in the “No. of Price points” field 
above or the buy sub structure will terminate if the value 32766 encountered. 

Best Bid Rate Long Read next 2 bytes and apply compression logic with base as LTP.  
For level 2 base is 1st level and so on 

Total Bid Qty Long Read next 2 bytes and apply compression logic with base as LTQ. 
Long For level 2 base is 1st level and so on 

No. of   Bid at the Unsigne Read next 2 bytes and apply compression logic with base as LTQ. 
price points d Long For level 2 base is 1st level and so on 
Implied Buy Quantity Long Read next 2 bytes and apply compression logic with base as LTQ. 

Long For level 2 base is 1st level and so on 
Reserved Field Long Read next 2 bytes and apply compression logic with base as LTQ. 

For level 2 base is 1st level and so on 

Following sell sub-structure will repeat number of times as specified in the “No. of Price points” field 
above or the sell sub structure will terminate if the value                 -32766 encountered. 

Best Offer Rate Long Read next 2 bytes and apply compression logic with base as LTP.  
For level 2 base is 1st level and so on 

Total Offer Qty Long Read next 2 bytes and apply compression logic with base as LTQ. 
Long For level 2 base is 1st level and so on 

No. of Ask at the price Unsigne Read next 2 bytes and apply compression logic with base as LTQ. 
point d Long For level 2 base is 1st level and so on 
Implied Sell Quantity Long Read next 2 bytes and apply compression logic with base as LTQ. 

Long For level 2 base is 1st level and so on 
Reserved Field Long Read next 2 bytes and apply compression logic with base as LTQ. 

For level 2 base is 1st level and so on 
44: Multicast addresses and ports for the reference data snapshot fee 

--- PAGE 54 ---



BSE - CONFIDENTIAL 



Direct NFCAST        V 5.0 

6 Appendix 

6.1 Index Code Mapping Table 
 
Kindly refer Index Name file (INDEXDDMMYYYY.csv) provided by Exchange which contain Index Code 
and Index Name of all Indices disseminated real time by BSE. This file is made available on BSE website 
and extranet for download by EOD. For more details related file and format, kindly refer circular number 
20250411-7 dated 11th April 2025 
 

6.2 Product (Market Segment) Identifier in Master Files 
The following table gives the master file names and different fields in each file which provides 
information about the product ID. 
 
Segment File name Field name and Position 
Equity SCRIP_ddmmyy.TXT  Name: Partition ID and Product 

ID 
Position :5  

Equity Derivatives EQD_COddmmyy.csv, Name: Product ID 
EQD_SPD_COddmmyy.csv  Position: 29 

Currency Derivatives BFX_COddmmyy.csv, Name: Product ID 
BFX_SPD_COddmmyy.csv  Position: 29 

Commodities Derivatives BCX_COddmmyy.csv  Name: Product ID 
Position: 29 

 

6.3 Price Precision Table 
 
Segment Price Precision  Description 
Equity 2 decimals The value needs to be divided 

with 100. 
Equity Derivatives 2 decimals The value needs to be divided 

with 100. 
Currency Derivatives 4 decimals The value needs to be divided 

with 10000 
Commodities Derivatives 2 decimals The value needs to be divided 

with 100. 

 

7 Change log. 
This document has been through the following iterations: 
 

7.1 Changes compared to NFCAST with IML 
This section is meant for application developers who are already using the NFCAST data via IML and 
want to know the incremental changes that need to be done in their application to read Direct NFCAST. 

--- PAGE 55 ---

Direct NFCAST
V 5.0

6 Appendix

6.1 Index Code Mapping Table
Kindly refer Index Name file (INDEXDDMMYYYY.csv) provided by Exchange which contain Index Code and Index Name of all Indices disseminated real time by BSE. This file is made available on BSE website and extranet for download by EOD. For more details related file and format, kindly refer circular number 20250411-7 dated 11th April 2025.

6.2 Product (Market Segment) Identifier in Master Files
| Segment                 | File name              | Field name and Position      |
|-------------------------|------------------------|------------------------------|
| Equity                  | SCRIP_ddmmyy.TXT       | Name: Partition ID and Product ID, Position: 5 |
| Equity Derivatives      | EQD_COddmmyy.csv       | Name: Product ID, Position: 29 |
| Currency Derivatives    | BFX_COddmmyy.csv       | Name: Product ID, Position: 29 |
| Commodities Derivatives | BCX_COddmmyy.csv       | Name: Product ID, Position: 29 |

6.3 Price Precision Table
| Segment                 | Price Precision | Description                      |
|-------------------------|-----------------|----------------------------------|
| Equity                  | 2 decimals      | The value needs to be divided with 100. |
| Equity Derivatives      | 2 decimals      | The value needs to be divided with 100. |
| Currency Derivatives    | 4 decimals      | The value needs to be divided with 10000. |
| Commodities Derivatives | 2 decimals      | The value needs to be divided with 100. |

7 Change log.
This document has been through the following iterations:

7.1 Changes compared to NFCAST with IML
This section is for developers already using NFCAST via IML.

--- PAGE 56 ---

Direct NFCAST
V 5.0

| Description             | NFCAST through IML                                 | Direct NFCAST                                   |
|-------------------------|----------------------------------------------------|-------------------------------------------------|
| 1. Reading Mode         | Broadcast mode.                                    | Multicast mode.                                 |
| 2. Packet Header        | 8-byte header (4-byte slot, 4-byte length).        | Read 2000 bytes; first 4 bytes is message type. |
| 3. Swapping             | Little endian format.                              | Big endian format (needs swapping).             |
| 4. Compression          | No decompression required.                         | Decompress Market Picture messages (2020, 2021, 2033). |
| 5. Market Picture [2021]| IML converted message 2021 (8-byte scrip code) to 2020 (4-byte scrip code). | Application must handle message 2021 with 8-byte scrip code directly. |

--- PAGE 57 ---

Direct NFCAST
V 5.0

| 6. Session Change       | IML forwarded only the first 36 product messages.  | Application receives messages for all products. |
| 7. Test Product Session | IML did not forward messages for test products.    | Application receives and must ignore messages for test products. |

7.2 Changes compared to version 1
- Section 4.2.3: Reserved Field 10 renamed as Block Deal Reference Price.
- Section 4.2.7: Index Change Message updated to include an "Index Close Value Indicator" to differentiate between previous close, indicative close, and today's close values.

--- PAGE 58 ---

Direct NFCAST
V 5.0

7.3 Changes compared to version 2
- Section 4.6: Shortage Auction Session Change Message [2003] segregated into its own section.
- Section 4.13: New message introduced for Limit Price Protection Range [2034].
- Section 4.18: New message introduced for Implied Volatility [2028].

7.4 Changes compared to version 3
- Section 4.14: New message introduced for Call Auction cancelled quantity [2035] for SPOS and Relisting securities.

--- PAGE 59 ---

Direct NFCAST
V 5.0

7.5 Changes compared to version 4
1. Section 4.8: Data Type of several fields in Market Picture message (No of Trades, Traded Volume, LTQ, etc.) changed from Long to Unsigned Long or Long Long to accommodate larger values.
2. Section 4.9: Data Type of fields in Auction Market Picture message changed.
3. Section 4.14: Data Type of Cancelled Buy/Sell Qty fields changed from Long to Long Long.

--- PAGE 60 ---

Direct NFCAST
V 5.0

4. Section 4.16: Data Type of Open Interest Quantity field changed from Long to Long Long.
5. Section 4.19: Field description updated for Implied Volatility.
6. Section 6.1: Index code mapping table removed, with instructions to refer to an external file.